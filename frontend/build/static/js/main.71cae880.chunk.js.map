{"version":3,"sources":["contexts/AuthContext.jsx","assets/logo.png","components/Navigation.jsx","components/Login.jsx","components/Register.jsx","components/Dashboard.jsx","components/ProgressTracking.jsx","components/ChallengeCard.jsx","components/PillarDetail.jsx","components/PillarsOverview.jsx","components/Subscription.jsx","components/Rewards.jsx","components/Profile.jsx","pages/Challenges.js","components/ChallengeDetail.jsx","App.js","index.js"],"names":["AuthContext","createContext","API_URL","process","useAuth","useContext","AuthProvider","_ref","children","currentUser","setCurrentUser","useState","userSubscription","setUserSubscription","loading","setLoading","error","setError","isAuthenticated","setIsAuthenticated","async","fetchCurrentUser","token","localStorage","getItem","console","log","substring","response","fetch","method","headers","data","json","ok","status","removeItem","Error","message","userData","user","fetchSubscriptionStatus","subscription","useEffect","mounted","loadUserData","value","register","email","password","name","body","JSON","stringify","setItem","login","logout","updateProfile","prevUser","hasPremiumAccess","hasUser","hasSubscription","_jsx","Provider","Navigation","isMenuOpen","setIsMenuOpen","location","useLocation","className","_jsxs","Link","to","src","logo","alt","onClick","toggleMenu","FaTimes","FaBars","pathname","_Fragment","includes","FaUser","FaSignOutAlt","FaCrown","Login","setEmail","setPassword","navigate","useNavigate","role","onSubmit","e","preventDefault","htmlFor","FaEnvelope","type","id","onChange","target","required","FaLock","disabled","Register","setName","confirmPassword","setConfirmPassword","length","Dashboard","dashboardData","setDashboardData","selectedChild","setSelectedChild","isPremium","_currentUser$children","url","fetchDashboardData","map","child","age","FaChartLine","size","overallProgress","FaCalendarAlt","activitiesCompleted","FaTrophy","points","todayChallenge","title","description","pillars","pillar","shortDescription","progress","style","width","totalActivities","ProgressTracking","childId","pillarId","setProgress","statsResponse","statsData","pillarResponse","pillarData","pillarProgress","fetchProgress","totalCompleted","FaStar","averageRating","toFixed","slice","entry","activity","rating","Date","completedAt","toLocaleDateString","notes","progressByPillar","_pillarProgress$_coun","_pillarProgress$_avg","icon","_count","_avg","ChallengeCard","challenge","onComplete","isExpanded","setIsExpanded","setRating","setNotes","difficulty","FaClock","durationMinutes","FaUserFriends","minAge","maxAge","instructions","materials","star","placeholder","activityId","PillarDetail","useParams","setPillar","challenges","setChallenges","fetchPillarData","challengesResponse","challengesData","fetchChallenges","handleChallengeComplete","challengeId","completed","visibleChallenges","PillarsOverview","setPillars","content","setContent","achievements","setAchievements","pillarsResponse","contentResponse","achievementsResponse","pillarsData","contentData","achievementsData","Promise","all","fetchData","selected","find","pillarContent","filter","c","pillar_id","pillarChallenges","pillarAchievements","a","short_description","achievement","points_value","creates_certificate","stripePromise","loadStripe","plans","price","interval","features","regularPrice","bestValue","CheckoutForm","selectedPlan","onSuccess","onError","stripe","useStripe","elements","useElements","event","cardElement","getElement","CardElement","stripeError","paymentMethod","createPaymentMethod","card","paymentMethodId","planId","customerId","confirmError","paymentIntent","confirmCardPayment","clientSecret","options","base","fontSize","color","invalid","Subscription","setSelectedPlan","subscriptionComplete","setSubscriptionComplete","subscriptionError","setSubscriptionError","FaCheck","plan","handlePlanSelect","feature","index","Elements","setTimeout","errorMessage","FaRegStar","Rewards","activeTab","setActiveTab","certificates","setCertificates","marketplace","setMarketplace","setPoints","fetchRewardsData","unlocked","certificate","_currentUser$children2","date","handleShareCertificate","certificateId","FaShare","handlePrintCertificate","window","print","FaPrint","reward","image","redeemed","rewardId","updatedPoints","prevMarketplace","item","alert","handleRedeemReward","href","Profile","profile","setProfile","err","fetchProfile","FaCog","updatedProfile","language","theme","Challenges","activeChild","setActiveChild","dailyChallenge","setDailyChallenge","calendarChallenges","setCalendarChallenges","day","handleCompleteChallenge","handleCalendarChallengeToggle","ChallengeDetail","setChallenge","fetchChallenge","FaArrowLeft","difficulty_level","age_group","ProtectedRoute","Navigate","PremiumRoute","_ref2","RootRedirect","App","BrowserRouter","Routes","Route","path","element","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.71cae880.chunk.js","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\n// Create the authentication context\nconst AuthContext = createContext();\n\n// Hard-code the API URL for testing if environment variables aren't working\nconst API_URL = process.env.REACT_APP_API_URL || 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\n// Custom hook to use the auth context\nexport const useAuth = ()  => {\n  return useContext(AuthContext);\n};\n\n// Provider component that wraps the app and makes auth object available to any child component that calls useAuth()\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [userSubscription, setUserSubscription] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false); // Add this for compatibility\n\n  // Function to register a new user\n  async function register(email, password, name) {\n    try {\n      setError('');\n      console.log('Registering with:', { email, name });\n      console.log('Using API URL:', API_URL);\n      \n      const response = await fetch(`${API_URL}/api/users/register`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password, name }),\n      });\n\n      const data = await response.json();\n      console.log('Register response:', data);\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to register');\n      }\n\n      // Store the token in localStorage\n      localStorage.setItem('authToken', data.token);\n      \n      // Set the current user\n      setCurrentUser(data.user);\n      setIsAuthenticated(true);\n      \n      return data;\n    } catch (error) {\n      console.error('Registration error:', error);\n      setError(error.message);\n      throw error;\n    }\n  }\n\n  // Function to log in a user\n  async function login(email, password) {\n    try {\n      setError('');\n      console.log('Logging in with:', { email });\n      console.log('Using API URL:', API_URL);\n      \n      const response = await fetch(`${API_URL}/api/users/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const data = await response.json();\n      console.log('Login response:', data);\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to login');\n      }\n\n      // Store the token in localStorage\n      localStorage.setItem('authToken', data.token);\n      \n      // Set the current user\n      setCurrentUser(data.user);\n      setIsAuthenticated(true);\n      \n      console.log('Auth state after login:', { user: data.user, isAuthenticated: true });\n      \n      // Fetch subscription status\n      await fetchSubscriptionStatus();\n      \n      return data;\n    } catch (error) {\n      console.error('Login error:', error);\n      setError(error.message);\n      throw error;\n    }\n  }\n\n  // Function to log out a user\n  async function logout() {\n    try {\n      setError('');\n      // Remove the token from localStorage\n      localStorage.removeItem('authToken');\n      \n      // Clear the current user\n      setCurrentUser(null);\n      setUserSubscription(null);\n      setIsAuthenticated(false);\n      \n      return true;\n    } catch (error) {\n      setError(error.message);\n      throw error;\n    }\n  }\n\n  // Function to fetch the current user's profile\n  async function fetchCurrentUser() {\n    try {\n      const token = localStorage.getItem('authToken');\n      \n      if (!token) {\n        setCurrentUser(null);\n        setIsAuthenticated(false);\n        setLoading(false);\n        return null;\n      }\n      \n      console.log('Fetching user profile with token:', token.substring(0, 10) + '...');\n      \n      const response = await fetch(`${API_URL}/api/users/profile`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      const data = await response.json();\n      console.log('User profile response:', data);\n\n      if (!response.ok) {\n        // If token is invalid, clear it\n        if (response.status === 401) {\n          localStorage.removeItem('authToken');\n          setCurrentUser(null);\n          setIsAuthenticated(false);\n          setLoading(false);\n          return null;\n        }\n        throw new Error(data.message || 'Failed to fetch user profile');\n      }\n\n      const userData = data.user || data;\n      setCurrentUser(userData);\n      setIsAuthenticated(true);\n      return userData;\n    } catch (error) {\n      console.error('Error fetching current user:', error);\n      localStorage.removeItem('authToken');\n      setCurrentUser(null);\n      setIsAuthenticated(false);\n      return null;\n    }\n  }\n\n  // Function to fetch the user's subscription status\n  async function fetchSubscriptionStatus() {\n    try {\n      const token = localStorage.getItem('authToken');\n      \n      if (!token || !currentUser) {\n        setUserSubscription(null);\n        return null;\n      }\n      \n      console.log('Fetching subscription status');\n      \n      const response = await fetch(`${API_URL}/api/subscriptions/status`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      const data = await response.json();\n      console.log('Subscription status response:', data);\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to fetch subscription status');\n      }\n\n      setUserSubscription(data.subscription);\n      return data.subscription;\n    } catch (error) {\n      console.error('Error fetching subscription status:', error);\n      setUserSubscription(null);\n      return null;\n    }\n  }\n\n  // Function to update user profile\n  async function updateProfile(userData) {\n    try {\n      setError('');\n      const token = localStorage.getItem('authToken');\n      \n      if (!token) {\n        throw new Error('Not authenticated');\n      }\n      \n      const response = await fetch(`${API_URL}/api/users/update`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify(userData),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to update profile');\n      }\n\n      // Update the current user with the new data\n      setCurrentUser(prevUser => ({\n        ...prevUser,\n        ...data.user\n      }));\n      \n      return data;\n    } catch (error) {\n      setError(error.message);\n      throw error;\n    }\n  }\n\n  // Function to check if user has access to premium features\n  function hasPremiumAccess() {\n    return userSubscription && userSubscription.status === 'active';\n  }\n\n  // Effect to fetch the current user when the component mounts\n  useEffect(() => {\n    let mounted = true;\n\n    async function loadUserData() {\n      console.log('Loading user data on mount');\n      try {\n        const user = await fetchCurrentUser();\n        if (user && mounted) {\n          console.log('User found, fetching subscription status');\n          await fetchSubscriptionStatus();\n        }\n      } catch (error) {\n        console.error('Error loading user data:', error);\n        if (mounted) {\n          setCurrentUser(null);\n          setIsAuthenticated(false);\n        }\n      } finally {\n        if (mounted) {\n          setLoading(false);\n        }\n      }\n    }\n    \n    loadUserData();\n\n    return () => {\n      mounted = false;\n    };\n  }, []); // Empty dependency array is fine for initial load\n\n  // Create the value object that will be provided to consumers\n  const value = {\n    currentUser,\n    user: currentUser, // Add alias for compatibility\n    userSubscription,\n    isAuthenticated,\n    loading,\n    error,\n    register,\n    login,\n    logout,\n    updateProfile,\n    fetchCurrentUser,\n    fetchSubscriptionStatus,\n    hasPremiumAccess\n  };\n\n  console.log('AuthContext state:', { \n    isAuthenticated, \n    hasUser: !!currentUser, \n    hasSubscription: !!userSubscription,\n    loading\n  });\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport default AuthContext;\n","export default __webpack_public_path__ + \"static/media/logo.0f63a7c9.png\";","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaBars, FaTimes, FaUser, FaSignOutAlt, FaCrown } from 'react-icons/fa';\nimport logo from '../assets/logo.png';\n\nconst Navigation = () => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const { currentUser, logout, userSubscription } = useAuth();\n  const location = useLocation();\n  \n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n  \n  // Close menu when route changes\n  useEffect(() => {\n    setIsMenuOpen(false);\n  }, [location]);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n    } catch (error) {\n      console.error(\"Failed to log out\", error);\n    }\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-container\">\n        <Link to=\"/\" className=\"navbar-logo\">\n          <img src={logo} alt=\"Confident Kids Logo\" />\n          <span>Confident Kids</span>\n        </Link>\n        \n        <button className=\"navbar-toggle\" onClick={toggleMenu} aria-label=\"Toggle navigation\">\n          {isMenuOpen ? <FaTimes /> : <FaBars />}\n        </button>\n        \n        <ul className={`navbar-menu ${isMenuOpen ? 'active' : ''}`}>\n          <li className=\"navbar-item\">\n            <Link \n              to=\"/\" \n              className={`navbar-link ${location.pathname === '/' ? 'active' : ''}`}\n            >\n              Home\n            </Link>\n          </li>\n          \n          {currentUser && (\n            <>\n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/dashboard\" \n                  className={`navbar-link ${location.pathname === '/dashboard' ? 'active' : ''}`}\n                >\n                  Dashboard\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/pillars\" \n                  className={`navbar-link ${location.pathname.includes('/pillars') ? 'active' : ''}`}\n                >\n                  Pillars\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/challenges\" \n                  className={`navbar-link ${location.pathname === '/challenges' ? 'active' : ''}`}\n                >\n                  Challenges\n                </Link>\n              </li>\n              \n              {userSubscription && userSubscription.status === 'active' && (\n                <li className=\"navbar-item\">\n                  <Link \n                    to=\"/rewards\" \n                    className={`navbar-link ${location.pathname === '/rewards' ? 'active' : ''}`}\n                  >\n                    Rewards\n                    <span className=\"premium-badge\">PRO</span>\n                  </Link>\n                </li>\n              )}\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/profile\" \n                  className={`navbar-link ${location.pathname === '/profile' ? 'active' : ''}`}\n                >\n                  <FaUser /> Profile\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <button onClick={handleLogout} className=\"navbar-link\">\n                  <FaSignOutAlt /> Logout\n                </button>\n              </li>\n            </>\n          )}\n          \n          {!currentUser && (\n            <>\n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/about\" \n                  className={`navbar-link ${location.pathname === '/about' ? 'active' : ''}`}\n                >\n                  About\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/login\" \n                  className={`navbar-link ${location.pathname === '/login' ? 'active' : ''}`}\n                >\n                  Login\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/register\" \n                  className=\"navbar-cta\"\n                >\n                  Sign Up\n                </Link>\n              </li>\n            </>\n          )}\n          \n          {currentUser && !userSubscription?.status === 'active' && (\n            <li className=\"navbar-item\">\n              <Link \n                to=\"/subscription\" \n                className=\"navbar-cta\"\n              >\n                <FaCrown /> Upgrade\n              </Link>\n            </li>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaEnvelope, FaLock } from 'react-icons/fa';\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setError('');\n      setLoading(true);\n      await login(email, password);\n      navigate('/dashboard');\n    } catch (error) {\n      setError(error.message || 'Failed to log in');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <div className=\"card mt-5\">\n            <div className=\"card-header\">\n              <h2 className=\"text-center\">Log In</h2>\n            </div>\n            <div className=\"card-body\">\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {error}\n                </div>\n              )}\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group mb-3\">\n                  <label htmlFor=\"email\">\n                    <FaEnvelope className=\"me-2\" /> Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group mb-4\">\n                  <label htmlFor=\"password\">\n                    <FaLock className=\"me-2\" /> Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-100\"\n                  disabled={loading}\n                >\n                  {loading ? 'Logging In...' : 'Log In'}\n                </button>\n              </form>\n              \n              <div className=\"text-center mt-3\">\n                <Link to=\"/forgot-password\">Forgot Password?</Link>\n              </div>\n            </div>\n            <div className=\"card-footer text-center\">\n              Need an account? <Link to=\"/register\">Sign Up</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaEnvelope, FaLock, FaUser } from 'react-icons/fa';\n\nconst Register = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { register } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Form validation\n    if (password !== confirmPassword) {\n      return setError('Passwords do not match');\n    }\n    \n    if (password.length < 6) {\n      return setError('Password must be at least 6 characters');\n    }\n    \n    try {\n      setError('');\n      setLoading(true);\n      await register(email, password, name);\n      navigate('/dashboard');\n    } catch (error) {\n      setError(error.message || 'Failed to create an account');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <div className=\"card mt-5\">\n            <div className=\"card-header\">\n              <h2 className=\"text-center\">Create Your Account</h2>\n            </div>\n            <div className=\"card-body\">\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {error}\n                </div>\n              )}\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group mb-3\">\n                  <label htmlFor=\"name\">\n                    <FaUser className=\"me-2\" /> Full Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"name\"\n                    className=\"form-control\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group mb-3\">\n                  <label htmlFor=\"email\">\n                    <FaEnvelope className=\"me-2\" /> Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group mb-3\">\n                  <label htmlFor=\"password\">\n                    <FaLock className=\"me-2\" /> Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group mb-4\">\n                  <label htmlFor=\"confirmPassword\">\n                    <FaLock className=\"me-2\" /> Confirm Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"confirmPassword\"\n                    className=\"form-control\"\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-100\"\n                  disabled={loading}\n                >\n                  {loading ? 'Creating Account...' : 'Sign Up'}\n                </button>\n              </form>\n            </div>\n            <div className=\"card-footer text-center\">\n              Already have an account? <Link to=\"/login\">Log In</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaChartLine, FaCalendarAlt, FaTrophy, FaCrown } from 'react-icons/fa';\n\nconst Dashboard = () => {\n  const [dashboardData, setDashboardData] = useState(null);\n  const [selectedChild, setSelectedChild] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { currentUser, hasPremiumAccess } = useAuth();\n  const isPremium = hasPremiumAccess();\n\n  useEffect(() => {\n    console.log('Dashboard: currentUser changed', currentUser);\n  }, [currentUser]);\n\n  useEffect(() => {\n    // Set the first child as selected by default if user has children\n    if (currentUser?.children?.length > 0 && !selectedChild) {\n      console.log('Dashboard: Setting initial child', currentUser.children[0]);\n      setSelectedChild(currentUser.children[0].id);\n    }\n  }, [currentUser, selectedChild]);\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchDashboardData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('authToken');\n        \n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        \n        // Only include childId in the URL if a child is selected\n        const url = selectedChild \n          ? `${process.env.REACT_APP_API_URL}/api/dashboard?childId=${selectedChild}`\n          : `${process.env.REACT_APP_API_URL}/api/dashboard`;\n        \n        console.log('Dashboard: Fetching data from URL:', url);\n        \n        const response = await fetch(url, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        const data = await response.json();\n        console.log('Dashboard: Received data:', data);\n\n        if (!response.ok) {\n          throw new Error(data.message || 'Failed to fetch dashboard data');\n        }\n\n        if (mounted) {\n          setDashboardData(data);\n        }\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n        if (mounted) {\n          setError('Failed to load dashboard data. Please try again later.');\n        }\n      } finally {\n        if (mounted) {\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchDashboardData();\n\n    return () => {\n      mounted = false;\n    };\n  }, [selectedChild]);\n\n  const handleChildChange = (e) => {\n    setSelectedChild(e.target.value);\n  };\n\n  if (loading) {\n    return <div className=\"text-center p-5\">Loading dashboard data...</div>;\n  }\n\n  if (error) {\n    return <div className=\"alert alert-danger\">{error}</div>;\n  }\n\n  if (!dashboardData) {\n    return <div className=\"text-center p-5\">No dashboard data available.</div>;\n  }\n\n  // If we have dashboard data but no currentUser, show a basic view\n  if (!currentUser) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"dashboard-welcome\">\n          <h1>Welcome!</h1>\n          <p>Track your child's confidence journey and explore activities designed to build their confidence.</p>\n        </div>\n        \n        <div className=\"alert alert-info mt-4\">\n          <h4>Let's Get Started!</h4>\n          <p>Add your child's profile to begin their confidence journey.</p>\n          <Link to=\"/profile\" className=\"btn btn-primary mt-2\">\n            Add Child Profile\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      <div className=\"dashboard-welcome\">\n        <h1>Welcome, {currentUser.name}!</h1>\n        <p>Track your child's confidence journey and explore activities designed to build their confidence.</p>\n      </div>\n      \n      {currentUser.children && currentUser.children.length > 0 ? (\n        <>\n          <div className=\"child-selector mb-4\">\n            <label htmlFor=\"childSelect\">Select Child:</label>\n            <select \n              id=\"childSelect\" \n              className=\"form-control\" \n              value={selectedChild} \n              onChange={handleChildChange}\n            >\n              {currentUser.children.map(child => (\n                <option key={child.id} value={child.id}>\n                  {child.name} ({child.age} years)\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {selectedChild ? (\n            <>\n              <div className=\"dashboard-stats\">\n                <div className=\"stat-card\">\n                  <FaChartLine className=\"mb-2\" size={24} />\n                  <div className=\"stat-value\">{dashboardData.overallProgress}%</div>\n                  <div className=\"stat-label\">Overall Progress</div>\n                </div>\n                \n                <div className=\"stat-card\">\n                  <FaCalendarAlt className=\"mb-2\" size={24} />\n                  <div className=\"stat-value\">{dashboardData.activitiesCompleted}</div>\n                  <div className=\"stat-label\">Activities Completed</div>\n                </div>\n                \n                <div className=\"stat-card\">\n                  <FaTrophy className=\"mb-2\" size={24} />\n                  <div className=\"stat-value\">{isPremium ? dashboardData.points : 'Locked'}</div>\n                  <div className=\"stat-label\">Reward Points {!isPremium && <span className=\"premium-badge\">PRO</span>}</div>\n                </div>\n              </div>\n              \n              <div className=\"today-challenge\">\n                <h2>Today's Challenge</h2>\n                <div className=\"challenge-container\">\n                  <h3 className=\"challenge-title\">{dashboardData.todayChallenge.title}</h3>\n                  <p className=\"challenge-description\">{dashboardData.todayChallenge.description}</p>\n                  <Link to={`/challenges/${dashboardData.todayChallenge.id}`} className=\"btn btn-primary mt-3\">\n                    Start Challenge\n                  </Link>\n                </div>\n              </div>\n              \n              <h2 className=\"mt-5 mb-3\">Confidence Pillars</h2>\n              <div className=\"grid-3\">\n                {dashboardData.pillars.map((pillar) => (\n                  <div key={pillar.id} className={`pillar-card pillar-card-${pillar.id}`}>\n                    <div className=\"pillar-card-header\">\n                      <h3>{pillar.name}</h3>\n                    </div>\n                    <div className=\"pillar-card-body\">\n                      <p>{pillar.shortDescription}</p>\n                      <div className=\"progress-label\">\n                        <span>Progress</span>\n                        <span>{pillar.progress}%</span>\n                      </div>\n                      <div className=\"progress-container\">\n                        <div \n                          className={`progress-bar progress-bar-${pillar.id}`} \n                          style={{ width: `${pillar.progress}%` }}\n                        ></div>\n                      </div>\n                    </div>\n                    <div className=\"pillar-card-footer\">\n                      <span>{pillar.activitiesCompleted}/{pillar.totalActivities} Activities</span>\n                      <Link to={`/pillars/${pillar.id}`} className=\"btn btn-sm btn-outline\">\n                        Explore\n                      </Link>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </>\n          ) : (\n            <div className=\"alert alert-info mt-4\">\n              <h4>Select a Child</h4>\n              <p>Please select a child from the dropdown above to view their dashboard.</p>\n            </div>\n          )}\n        </>\n      ) : (\n        <div className=\"alert alert-info mt-4\">\n          <h4>Let's Get Started!</h4>\n          <p>Add your child's profile to begin their confidence journey.</p>\n          <Link to=\"/profile\" className=\"btn btn-primary mt-2\">\n            Add Child Profile\n          </Link>\n        </div>\n      )}\n      \n      {!isPremium && (\n        <div className=\"upgrade-prompt standard mt-5\">\n          <h3><FaCrown className=\"me-2\" /> Unlock Premium Features</h3>\n          <p>Subscribe to our premium plan to access all activities, detailed progress tracking, and rewards for your child.</p>\n          <Link to=\"/subscription\" className=\"upgrade-button\">Upgrade Now</Link>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaChartLine, FaTrophy, FaCalendarAlt, FaChild, FaStar } from 'react-icons/fa';\n\nconst API_URL = 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\nconst ProgressTracking = ({ childId, pillarId }) => {\n  const [progress, setProgress] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { currentUser, hasPremiumAccess } = useAuth();\n  const isPremium = hasPremiumAccess();\n\n  useEffect(() => {\n    const fetchProgress = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('authToken');\n        \n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        \n        // Fetch progress statistics\n        const statsResponse = await fetch(\n          `${API_URL}/api/progress/stats/child/${childId}`,\n          {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n            },\n          }\n        );\n\n        if (!statsResponse.ok) {\n          const statsData = await statsResponse.json();\n          throw new Error(statsData.message || 'Failed to fetch progress statistics');\n        }\n\n        const statsData = await statsResponse.json();\n\n        // If pillarId is provided, fetch specific pillar progress\n        if (pillarId) {\n          const pillarResponse = await fetch(\n            `${API_URL}/api/progress/pillar/${pillarId}/child/${childId}`,\n            {\n              headers: {\n                'Authorization': `Bearer ${token}`,\n              },\n            }\n          );\n\n          if (!pillarResponse.ok) {\n            const pillarData = await pillarResponse.json();\n            throw new Error(pillarData.message || 'Failed to fetch pillar progress');\n          }\n\n          const pillarData = await pillarResponse.json();\n          setProgress({\n            ...statsData,\n            pillarProgress: pillarData,\n          });\n        } else {\n          setProgress(statsData);\n        }\n      } catch (error) {\n        console.error('Error fetching progress:', error);\n        setError(error.message || 'Failed to load progress data');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (childId) {\n      fetchProgress();\n    }\n  }, [childId, pillarId]);\n\n  const updateProgress = async (pillarId, activityId, completed) => {\n    if (!childId) return;\n    \n    try {\n      const token = localStorage.getItem('authToken');\n      \n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      const response = await fetch(`${API_URL}/api/progress/update`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          childId,\n          pillarId,\n          activityId,\n          completed\n        }),\n      });\n\n      if (!response.ok) {\n        const data = await response.json();\n        throw new Error(data.message || 'Failed to update progress');\n      }\n\n      const data = await response.json();\n\n      // Update local state with new progress data\n      setProgress(prevData => {\n        if (!prevData) return null;\n        \n        const updatedPillars = prevData.pillars.map(pillar => {\n          if (pillar.id === pillarId) {\n            const updatedActivities = pillar.activities.map(activity => {\n              if (activity.id === activityId) {\n                return { ...activity, completed };\n              }\n              return activity;\n            });\n            return { ...pillar, activities: updatedActivities };\n          }\n          return pillar;\n        });\n        \n        return {\n          ...prevData,\n          pillars: updatedPillars\n        };\n      });\n    } catch (error) {\n      console.error('Error updating progress:', error);\n      setError(error.message || 'Failed to update progress. Please try again later.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"progress-section\">\n        <div className=\"progress-loading\">Loading progress...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"progress-section\">\n        <div className=\"progress-error alert alert-danger\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!progress) {\n    return null;\n  }\n\n  return (\n    <div className=\"progress-tracking\">\n      <div className=\"progress-summary\">\n        <div className=\"progress-stat\">\n          <FaTrophy className=\"icon\" />\n          <div className=\"stat-content\">\n            <span className=\"stat-value\">{progress.totalCompleted || 0}</span>\n            <span className=\"stat-label\">Challenges Completed</span>\n          </div>\n        </div>\n        \n        <div className=\"progress-stat\">\n          <FaStar className=\"icon\" />\n          <div className=\"stat-content\">\n            <span className=\"stat-value\">{(progress.averageRating || 0).toFixed(1)}</span>\n            <span className=\"stat-label\">Average Rating</span>\n          </div>\n        </div>\n      </div>\n\n      {pillarId && progress.pillarProgress && progress.pillarProgress.length > 0 && (\n        <div className=\"pillar-progress\">\n          <h3>Recent Challenges</h3>\n          <div className=\"recent-challenges\">\n            {progress.pillarProgress.slice(0, 3).map((entry) => (\n              <div key={entry.id} className=\"recent-challenge\">\n                <div className=\"challenge-info\">\n                  <h4>{entry.activity.title}</h4>\n                  <div className=\"challenge-meta\">\n                    <span className=\"rating\">\n                      <FaStar /> {entry.rating || 0}\n                    </span>\n                    <span className=\"date\">\n                      {new Date(entry.completedAt).toLocaleDateString()}\n                    </span>\n                  </div>\n                </div>\n                {entry.notes && (\n                  <p className=\"challenge-notes\">{entry.notes}</p>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {progress.progressByPillar && progress.progressByPillar.length > 0 && (\n        <div className=\"progress-by-pillar\">\n          <h3>Progress by Pillar</h3>\n          <div className=\"pillars-grid\">\n            {progress.progressByPillar.map((pillarProgress) => (\n              <div key={pillarProgress.pillarId} className=\"pillar-progress-card\">\n                <div className=\"pillar-header\">\n                  <h4>{pillarProgress.pillar.name}</h4>\n                  <span className=\"pillar-icon\">{pillarProgress.pillar.icon}</span>\n                </div>\n                <div className=\"pillar-stats\">\n                  <div className=\"stat\">\n                    <FaChartLine className=\"icon\" />\n                    <span>{pillarProgress._count?.id || 0} completed</span>\n                  </div>\n                  <div className=\"stat\">\n                    <FaStar className=\"icon\" />\n                    <span>{(pillarProgress._avg?.rating || 0).toFixed(1)} avg rating</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProgressTracking;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaStar, FaClock, FaUserFriends } from 'react-icons/fa';\n\nconst ChallengeCard = ({ challenge, childId, pillarId, onComplete }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [notes, setNotes] = useState('');\n\n  const handleComplete = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/progress`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\n        },\n        body: JSON.stringify({\n          childId,\n          pillarId,\n          activityId: challenge.id,\n          rating,\n          notes,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to mark challenge as complete');\n      }\n\n      onComplete && onComplete(challenge.id);\n      setIsExpanded(false);\n    } catch (error) {\n      console.error('Error completing challenge:', error);\n    }\n  };\n\n  return (\n    <div className=\"challenge-card\">\n      <div className=\"challenge-header\" onClick={() => setIsExpanded(!isExpanded)}>\n        <h3>{challenge.title}</h3>\n        <div className=\"challenge-meta\">\n          <span className=\"difficulty\">\n            <FaStar className={challenge.difficulty === 'easy' ? 'text-success' : \n                           challenge.difficulty === 'medium' ? 'text-warning' : 'text-danger'} />\n            {challenge.difficulty}\n          </span>\n          <span className=\"duration\">\n            <FaClock /> {challenge.durationMinutes} min\n          </span>\n          <span className=\"age-range\">\n            <FaUserFriends /> {challenge.minAge}-{challenge.maxAge} years\n          </span>\n        </div>\n      </div>\n\n      {isExpanded && (\n        <div className=\"challenge-content\">\n          <p className=\"description\">{challenge.description}</p>\n          \n          <div className=\"instructions\">\n            <h4>Instructions for Parents:</h4>\n            <p>{challenge.instructions}</p>\n          </div>\n\n          {challenge.materials && (\n            <div className=\"materials\">\n              <h4>Materials Needed:</h4>\n              <p>{challenge.materials}</p>\n            </div>\n          )}\n\n          <div className=\"completion-form\">\n            <h4>Complete Challenge</h4>\n            <div className=\"rating-input\">\n              <label>Rating (1-5):</label>\n              <div className=\"stars\">\n                {[1, 2, 3, 4, 5].map((star) => (\n                  <FaStar\n                    key={star}\n                    className={`star ${star <= rating ? 'active' : ''}`}\n                    onClick={() => setRating(star)}\n                  />\n                ))}\n              </div>\n            </div>\n            \n            <div className=\"notes-input\">\n              <label>Notes:</label>\n              <textarea\n                value={notes}\n                onChange={(e) => setNotes(e.target.value)}\n                placeholder=\"Add any notes about how the challenge went...\"\n              />\n            </div>\n\n            <button \n              className=\"btn btn-primary\"\n              onClick={handleComplete}\n              disabled={rating === 0}\n            >\n              Mark as Complete\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChallengeCard; ","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport ProgressTracking from './ProgressTracking';\nimport ChallengeCard from './ChallengeCard';\nimport { FaLock, FaCrown } from 'react-icons/fa';\nimport '../styles/ChallengeCard.css';\n\nconst API_URL = 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\nconst PillarDetail = () => {\n  const { pillarId } = useParams();\n  const [pillar, setPillar] = useState(null);\n  const [challenges, setChallenges] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedChild, setSelectedChild] = useState(null);\n  const { user, hasPremiumAccess } = useAuth();\n  const isPremium = hasPremiumAccess();\n\n  useEffect(() => {\n    const fetchPillarData = async () => {\n      if (!user) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError('');\n        const token = localStorage.getItem('authToken');\n        \n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        \n        // Fetch pillar data\n        const pillarResponse = await fetch(`${API_URL}/api/pillars/${pillarId}`, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        if (!pillarResponse.ok) {\n          const pillarData = await pillarResponse.json();\n          throw new Error(pillarData.message || 'Failed to fetch pillar data');\n        }\n\n        const pillarData = await pillarResponse.json();\n        setPillar(pillarData);\n\n        // Set the first child as selected by default if user has children\n        if (user.children && user.children.length > 0 && !selectedChild) {\n          setSelectedChild(user.children[0].id);\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError(error.message || 'Failed to load data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPillarData();\n  }, [pillarId, user, selectedChild]);\n\n  // Separate useEffect for fetching challenges when child is selected\n  useEffect(() => {\n    const fetchChallenges = async () => {\n      if (!selectedChild || !user) return;\n\n      try {\n        setLoading(true);\n        setError('');\n        const token = localStorage.getItem('authToken');\n\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n\n        // Fetch challenges for the pillar\n        const challengesResponse = await fetch(\n          `${API_URL}/api/pillars/${pillarId}/challenges?childId=${selectedChild}`,\n          {\n            method: 'GET',\n            headers: {\n              'Authorization': `Bearer ${token}`,\n            },\n          }\n        );\n\n        if (!challengesResponse.ok) {\n          const challengesData = await challengesResponse.json();\n          throw new Error(challengesData.message || 'Failed to fetch challenges');\n        }\n\n        const challengesData = await challengesResponse.json();\n        setChallenges(challengesData.challenges || []);\n      } catch (error) {\n        console.error('Error fetching challenges:', error);\n        setError(error.message || 'Failed to load challenges. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchChallenges();\n  }, [pillarId, selectedChild, user]);\n\n  const handleChildChange = (e) => {\n    setSelectedChild(e.target.value);\n  };\n\n  const handleChallengeComplete = (challengeId) => {\n    setChallenges(challenges.map(challenge => \n      challenge.id === challengeId \n        ? { ...challenge, completed: true }\n        : challenge\n    ));\n  };\n\n  if (!user) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-warning\">\n          Please log in to view pillar details.\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Loading pillar data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-danger\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!pillar) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Pillar not found.</div>\n      </div>\n    );\n  }\n\n  // Determine which challenges to show based on subscription status\n  const visibleChallenges = isPremium \n    ? challenges \n    : challenges.slice(0, 1); // Only show first challenge for free users\n\n  return (\n    <div className=\"container mt-4\">\n      <div className={`pillar-card pillar-card-${pillar.id} mb-4`}>\n        <div className=\"pillar-card-header\">\n          <h1>{pillar.name}</h1>\n          {pillar.icon && <span className=\"pillar-icon\">{pillar.icon}</span>}\n        </div>\n        <div className=\"pillar-card-body\">\n          <p>{pillar.shortDescription}</p>\n          \n          {user.children && user.children.length > 0 ? (\n            <div className=\"child-selector mb-4\">\n              <label htmlFor=\"childSelect\">Select Child:</label>\n              <select \n                id=\"childSelect\" \n                className=\"form-control\" \n                value={selectedChild || ''} \n                onChange={handleChildChange}\n              >\n                <option value=\"\">Select a child</option>\n                {user.children.map(child => (\n                  <option key={child.id} value={child.id}>\n                    {child.name} ({child.age} years)\n                  </option>\n                ))}\n              </select>\n            </div>\n          ) : (\n            <div className=\"alert alert-info\">\n              Please add a child to your profile to view challenges.\n            </div>\n          )}\n          \n          {selectedChild && (\n            <ProgressTracking childId={selectedChild} pillarId={pillarId} />\n          )}\n        </div>\n      </div>\n      \n      {selectedChild ? (\n        <>\n          <h2 className=\"mb-3\">Confidence Challenges</h2>\n          \n          <div className=\"challenges-grid\">\n            {visibleChallenges.map((challenge) => (\n              <ChallengeCard\n                key={challenge.id}\n                challenge={challenge}\n                childId={selectedChild}\n                pillarId={pillarId}\n                onComplete={handleChallengeComplete}\n              />\n            ))}\n            \n            {!isPremium && challenges.length > 1 && (\n              <div className=\"premium-feature-container\">\n                <div className=\"premium-feature-preview\">\n                  <ChallengeCard\n                    challenge={{\n                      id: 'preview',\n                      title: 'Premium Challenge',\n                      description: 'This premium challenge helps your child develop confidence through guided exercises...',\n                      difficulty: 'medium',\n                      durationMinutes: 15,\n                      minAge: 5,\n                      maxAge: 12,\n                    }}\n                    childId={selectedChild}\n                    pillarId={pillarId}\n                  />\n                </div>\n                <div className=\"premium-feature-overlay\">\n                  <div className=\"lock-icon\"><FaLock /></div>\n                  <h4>Premium Challenges</h4>\n                  <p>Unlock {challenges.length - 1} more challenges for this pillar with a premium subscription</p>\n                  <Link to=\"/subscription\" className=\"btn btn-secondary mt-2\">\n                    <FaCrown className=\"me-2\" /> Upgrade Now\n                  </Link>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {!isPremium && (\n            <div className=\"upgrade-prompt standard mt-4\">\n              <h3><FaCrown className=\"me-2\" /> Unlock All Challenges</h3>\n              <p>Subscribe to our premium plan to access all challenges, detailed progress tracking, and rewards for your child.</p>\n              <Link to=\"/subscription\" className=\"upgrade-button\">Upgrade Now</Link>\n            </div>\n          )}\n        </>\n      ) : (\n        <div className=\"alert alert-info\">\n          Please select a child to view challenges.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PillarDetail;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaStar, FaTrophy, FaCalendarAlt } from 'react-icons/fa';\nimport { useAuth } from '../contexts/AuthContext';\nimport '../styles/PillarsOverview.css';\n\nconst API_URL = 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\nconst PillarsOverview = () => {\n  const { user } = useAuth();\n  const [selectedChild, setSelectedChild] = useState(null);\n  const [pillars, setPillars] = useState([]);\n  const [content, setContent] = useState([]);\n  const [challenges, setChallenges] = useState([]);\n  const [achievements, setAchievements] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (user && user.children && user.children.length > 0 && !selectedChild) {\n      setSelectedChild(user.children[0].id);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!user || !selectedChild) return;\n\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('authToken');\n        \n        // Fetch pillars with child progress\n        const pillarsResponse = await fetch(`${API_URL}/api/pillars?childId=${selectedChild}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n        \n        // Fetch content (techniques)\n        const contentResponse = await fetch(`${API_URL}/api/content`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n        \n        // Fetch challenges\n        const challengesResponse = await fetch(`${API_URL}/api/challenges?childId=${selectedChild}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n        \n        // Fetch achievements\n        const achievementsResponse = await fetch(`${API_URL}/api/achievements?childId=${selectedChild}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        const [pillarsData, contentData, challengesData, achievementsData] = await Promise.all([\n          pillarsResponse.json(),\n          contentResponse.json(),\n          challengesResponse.json(),\n          achievementsResponse.json(),\n        ]);\n\n        setPillars(pillarsData);\n        setContent(contentData);\n        setChallenges(challengesData);\n        setAchievements(achievementsData);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError('Failed to load data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [user, selectedChild]);\n\n  const handleChildChange = (e) => {\n    const childId = e.target.value;\n    const selected = user.children.find(child => child.id === childId);\n    setSelectedChild(selected);\n  };\n\n  if (!user) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-warning\">\n          Please log in to view pillars.\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Loading pillars...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-danger\">{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      {user.children && user.children.length > 0 && (\n        <div className=\"child-selector mb-4\">\n          <label htmlFor=\"childSelect\">Select Child:</label>\n          <select \n            id=\"childSelect\" \n            className=\"form-control\" \n            value={selectedChild?.id || ''} \n            onChange={handleChildChange}\n          >\n            {user.children.map(child => (\n              <option key={child.id} value={child.id}>\n                {child.name} ({child.age} years)\n              </option>\n            ))}\n          </select>\n        </div>\n      )}\n\n      <div className=\"pillars-overview\">\n        <div className=\"daily-challenge-section\">\n          <h2>Today's Challenge</h2>\n          {challenges.length > 0 && (\n            <div className=\"daily-challenge\">\n              <h3>{challenges[0].title}</h3>\n              <p>{challenges[0].description}</p>\n              <Link to={`/challenges/${challenges[0].id}`} className=\"btn btn-primary\">\n                Start Challenge\n              </Link>\n            </div>\n          )}\n        </div>\n\n        <div className=\"pillars-grid\">\n          {pillars.map(pillar => {\n            const pillarContent = content.filter(c => c.pillar_id === pillar.id);\n            const pillarChallenges = challenges.filter(c => c.pillar_id === pillar.id);\n            const pillarAchievements = achievements.filter(a => \n              a.description.includes(pillar.name)\n            );\n\n            return (\n              <div key={pillar.id} className=\"pillar-card\">\n                <div className=\"pillar-header\">\n                  <h3>{pillar.name}</h3>\n                  <p className=\"pillar-description\">{pillar.short_description}</p>\n                </div>\n\n                <div className=\"pillar-stats\">\n                  <div className=\"stat\">\n                    <FaStar className=\"icon\" />\n                    <span>{pillarContent.length} Techniques</span>\n                  </div>\n                  <div className=\"stat\">\n                    <FaCalendarAlt className=\"icon\" />\n                    <span>{pillarChallenges.length} Challenges</span>\n                  </div>\n                  <div className=\"stat\">\n                    <FaTrophy className=\"icon\" />\n                    <span>{pillarAchievements.length} Achievements</span>\n                  </div>\n                </div>\n\n                <div className=\"pillar-progress\">\n                  <div className=\"progress-label\">\n                    <span>Progress</span>\n                    <span>{pillar.progress || 0}%</span>\n                  </div>\n                  <div className=\"progress-container\">\n                    <div \n                      className=\"progress-bar\" \n                      style={{ width: `${pillar.progress || 0}%` }}\n                    ></div>\n                  </div>\n                </div>\n\n                <div className=\"pillar-actions\">\n                  <Link to={`/pillars/${pillar.id}`} className=\"btn btn-primary\">\n                    Explore Pillar\n                  </Link>\n                  <Link to={`/pillars/${pillar.id}/techniques`} className=\"btn btn-secondary\">\n                    View Techniques\n                  </Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        <div className=\"achievements-section\">\n          <h2>Available Achievements</h2>\n          <div className=\"achievements-grid\">\n            {achievements.map(achievement => (\n              <div key={achievement.id} className=\"achievement-card\">\n                <div className=\"achievement-header\">\n                  <h3>{achievement.name}</h3>\n                  <span className=\"points\">{achievement.points_value} points</span>\n                </div>\n                <p>{achievement.description}</p>\n                {achievement.creates_certificate && (\n                  <span className=\"certificate-badge\">Certificate Available</span>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PillarsOverview; ","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { loadStripe } from '@stripe/stripe-js';\nimport {\n  Elements,\n  CardElement,\n  useStripe,\n  useElements\n} from '@stripe/react-stripe-js';\nimport { FaCrown, FaCheck, FaRegStar, FaStar } from 'react-icons/fa';\n\n// Initialize Stripe with your publishable key\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY);\n\n// Subscription plan options\nconst plans = [\n  {\n    id: 'monthly',\n    name: 'Monthly',\n    price: 9.99,\n    interval: 'month',\n    description: 'Perfect for trying out all premium features',\n    features: [\n      'Full access to all 5 pillars',\n      'Unlimited activities and challenges',\n      'Progress tracking for multiple children',\n      'Printable certificates',\n      'Rewards marketplace',\n      'Social sharing capabilities'\n    ]\n  },\n  {\n    id: 'yearly',\n    name: 'Yearly',\n    price: 89.99,\n    regularPrice: 119.88, // 12 * 9.99\n    interval: 'year',\n    description: 'Our most popular plan',\n    features: [\n      'Full access to all 5 pillars',\n      'Unlimited activities and challenges',\n      'Progress tracking for multiple children',\n      'Printable certificates',\n      'Rewards marketplace',\n      'Social sharing capabilities',\n      'Priority support',\n      'Early access to new features'\n    ],\n    bestValue: true\n  },\n  {\n    id: 'lifetime',\n    name: 'Lifetime',\n    price: 249.99,\n    interval: 'once',\n    description: 'Pay once, use forever',\n    features: [\n      'Full access to all 5 pillars',\n      'Unlimited activities and challenges',\n      'Progress tracking for multiple children',\n      'Printable certificates',\n      'Rewards marketplace',\n      'Social sharing capabilities',\n      'Priority support',\n      'Early access to new features',\n      'All future updates included'\n    ]\n  }\n];\n\n// CheckoutForm component for handling payment submission\nconst CheckoutForm = ({ selectedPlan, onSuccess, onError }) => {\n  const stripe = useStripe();\n  const elements = useElements();\n  const { currentUser } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!stripe || !elements) {\n      // Stripe.js has not loaded yet\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Get a reference to the card element\n      const cardElement = elements.getElement(CardElement);\n\n      // Create a payment method\n      const { error: stripeError, paymentMethod } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: cardElement,\n      });\n\n      if (stripeError) {\n        throw new Error(stripeError.message);\n      }\n\n      // Send the payment method ID to your server\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/subscriptions/create`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\n        },\n        body: JSON.stringify({\n          paymentMethodId: paymentMethod.id,\n          planId: selectedPlan.id,\n          customerId: currentUser.id,\n          email: currentUser.email,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to process subscription');\n      }\n\n      // Handle subscription status\n      if (data.status === 'success') {\n        onSuccess(data);\n      } else if (data.status === 'requires_action') {\n        // Handle 3D Secure authentication if required\n        const { error: confirmError, paymentIntent } = await stripe.confirmCardPayment(\n          data.clientSecret\n        );\n\n        if (confirmError) {\n          throw new Error(confirmError.message);\n        } else if (paymentIntent.status === 'succeeded') {\n          onSuccess(data);\n        } else {\n          throw new Error('Payment failed');\n        }\n      } else {\n        throw new Error(data.message || 'Subscription failed');\n      }\n    } catch (error) {\n      console.error('Subscription error:', error);\n      setError(error.message);\n      onError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const cardElementOptions = {\n    style: {\n      base: {\n        fontSize: '16px',\n        color: '#424770',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"card-element-container\">\n        <CardElement options={cardElementOptions} />\n      </div>\n      \n      {error && (\n        <div className=\"alert alert-danger mb-3\">\n          {error}\n        </div>\n      )}\n      \n      <button \n        type=\"submit\" \n        className=\"subscribe-button\"\n        disabled={!stripe || loading}\n      >\n        {loading ? 'Processing...' : `Subscribe for $${selectedPlan.price}/${selectedPlan.interval === 'once' ? '' : selectedPlan.interval}`}\n      </button>\n    </form>\n  );\n};\n\n// Main Subscription component\nconst Subscription = () => {\n  const [selectedPlan, setSelectedPlan] = useState(plans[1]); // Default to yearly plan\n  const [subscriptionComplete, setSubscriptionComplete] = useState(false);\n  const [subscriptionError, setSubscriptionError] = useState(null);\n  const { currentUser, userSubscription, fetchSubscriptionStatus } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // If user already has an active subscription, redirect to dashboard\n    if (userSubscription && userSubscription.status === 'active') {\n      navigate('/dashboard');\n    }\n  }, [userSubscription, navigate]);\n\n  const handlePlanSelect = (plan) => {\n    setSelectedPlan(plan);\n  };\n\n  const handleSubscriptionSuccess = async (data) => {\n    setSubscriptionComplete(true);\n    // Refresh subscription status\n    await fetchSubscriptionStatus();\n    \n    // Redirect to dashboard after a short delay\n    setTimeout(() => {\n      navigate('/dashboard');\n    }, 3000);\n  };\n\n  const handleSubscriptionError = (errorMessage) => {\n    setSubscriptionError(errorMessage);\n  };\n\n  if (subscriptionComplete) {\n    return (\n      <div className=\"subscription-page\">\n        <div className=\"success-message\">\n          <h2><FaCheck className=\"me-2\" /> Subscription Successful!</h2>\n          <p>Thank you for subscribing to Confident Kids Premium. You now have access to all premium features.</p>\n          <p>You will be redirected to your dashboard shortly...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"subscription-page\">\n      <div className=\"feature-highlight\">\n        <h1><FaCrown className=\"me-2\" /> Upgrade to Confident Kids Premium</h1>\n        <p>Unlock the full potential of your child's confidence journey with our premium features.</p>\n      </div>\n      \n      <div className=\"plan-selection\">\n        <h2>Choose Your Plan</h2>\n        <div className=\"plan-options\">\n          {plans.map((plan) => (\n            <div \n              key={plan.id}\n              className={`plan-card ${selectedPlan.id === plan.id ? 'selected' : ''}`}\n              onClick={() => handlePlanSelect(plan)}\n            >\n              {plan.bestValue && <div className=\"best-value\">Best Value</div>}\n              <h3>{plan.name}</h3>\n              <div className=\"price\">\n                ${plan.price} <span>/{plan.interval === 'once' ? '' : plan.interval}</span>\n              </div>\n              {plan.regularPrice && (\n                <div className=\"savings\">\n                  Save ${(plan.regularPrice - plan.price).toFixed(2)} per year\n                </div>\n              )}\n              <p>{plan.description}</p>\n              <ul className=\"features\">\n                {plan.features.map((feature, index) => (\n                  <li key={index}>{feature}</li>\n                ))}\n              </ul>\n              <button \n                className={`btn ${selectedPlan.id === plan.id ? 'btn-primary' : 'btn-outline'} w-100`}\n              >\n                {selectedPlan.id === plan.id ? 'Selected' : 'Select'}\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      \n      <div className=\"payment-section\">\n        <h2>Payment Information</h2>\n        <Elements stripe={stripePromise}>\n          <CheckoutForm \n            selectedPlan={selectedPlan} \n            onSuccess={handleSubscriptionSuccess}\n            onError={handleSubscriptionError}\n          />\n        </Elements>\n        \n        {subscriptionError && (\n          <div className=\"alert alert-danger mt-3\">\n            {subscriptionError}\n          </div>\n        )}\n        \n        <div className=\"guarantee\">\n          <p><FaRegStar /> 30-day money-back guarantee <FaRegStar /></p>\n          <p>If you're not satisfied with our premium features, we'll refund your payment within the first 30 days.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Subscription;\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaStar, FaShare, FaPrint, FaTrophy } from 'react-icons/fa';\n\nconst Rewards = () => {\n  const [activeTab, setActiveTab] = useState('achievements');\n  const [achievements, setAchievements] = useState([]);\n  const [certificates, setCertificates] = useState([]);\n  const [marketplace, setMarketplace] = useState([]);\n  const [points, setPoints] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { currentUser, hasPremiumAccess } = useAuth();\n  \n  useEffect(() => {\n    const fetchRewardsData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('authToken');\n        \n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/rewards`, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        const data = await response.json();\n\n        if (!response.ok) {\n          throw new Error(data.message || 'Failed to fetch rewards data');\n        }\n\n        setAchievements(data.achievements);\n        setCertificates(data.certificates);\n        setMarketplace(data.marketplace);\n        setPoints(data.points);\n      } catch (error) {\n        console.error('Error fetching rewards data:', error);\n        setError('Failed to load rewards data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (hasPremiumAccess()) {\n      fetchRewardsData();\n    } else {\n      setLoading(false);\n    }\n  }, [hasPremiumAccess]);\n\n  const handleShareCertificate = (certificateId) => {\n    // Implementation for sharing certificate to social media\n    console.log(`Sharing certificate ${certificateId}`);\n    // This would typically open a social sharing modal or redirect to a sharing page\n  };\n\n  const handlePrintCertificate = (certificateId) => {\n    // Implementation for printing certificate\n    console.log(`Printing certificate ${certificateId}`);\n    window.print();\n  };\n\n  const handleRedeemReward = async (rewardId) => {\n    try {\n      const token = localStorage.getItem('authToken');\n      \n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/rewards/redeem`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          rewardId\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to redeem reward');\n      }\n\n      // Update points after redemption\n      setPoints(data.updatedPoints);\n      \n      // Update marketplace items to reflect availability changes\n      setMarketplace(prevMarketplace => \n        prevMarketplace.map(item => \n          item.id === rewardId \n            ? { ...item, redeemed: true } \n            : item\n        )\n      );\n      \n      alert('Reward redeemed successfully!');\n    } catch (error) {\n      console.error('Error redeeming reward:', error);\n      alert(`Failed to redeem reward: ${error.message}`);\n    }\n  };\n\n  if (!hasPremiumAccess()) {\n    return (\n      <div className=\"container mt-5\">\n        <div className=\"upgrade-prompt standard\">\n          <h2><FaTrophy className=\"me-2\" /> Unlock the Rewards System</h2>\n          <p>The Rewards System is a premium feature that allows your child to earn achievements, collect certificates, and redeem points for special rewards.</p>\n          <p>Subscribe to our premium plan to motivate your child with tangible rewards for their confidence journey.</p>\n          <a href=\"/subscription\" className=\"upgrade-button\">Upgrade Now</a>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return <div className=\"text-center p-5\">Loading rewards data...</div>;\n  }\n\n  if (error) {\n    return <div className=\"alert alert-danger\">{error}</div>;\n  }\n\n  return (\n    <div className=\"rewards-container\">\n      <h1 className=\"mb-4\">Rewards & Achievements</h1>\n      \n      <div className=\"points-display\">\n        <span className=\"points-icon\"><FaStar /></span>\n        <span className=\"points-value\">{points} Points</span>\n      </div>\n      \n      <div className=\"rewards-tabs\">\n        <button \n          className={activeTab === 'achievements' ? 'active' : ''}\n          onClick={() => setActiveTab('achievements')}\n        >\n          Achievements\n        </button>\n        <button \n          className={activeTab === 'certificates' ? 'active' : ''}\n          onClick={() => setActiveTab('certificates')}\n        >\n          Certificates\n        </button>\n        <button \n          className={activeTab === 'marketplace' ? 'active' : ''}\n          onClick={() => setActiveTab('marketplace')}\n        >\n          Rewards Marketplace\n        </button>\n      </div>\n      \n      <div className=\"rewards-content\">\n        {activeTab === 'achievements' && (\n          <div>\n            <h3 className=\"mb-3\">Your Child's Achievements</h3>\n            <div className=\"achievement-grid\">\n              {achievements.map((achievement) => (\n                <div \n                  key={achievement.id} \n                  className={`achievement-item ${!achievement.unlocked ? 'achievement-locked' : ''}`}\n                >\n                  <div className=\"achievement-icon\">\n                    {achievement.icon}\n                  </div>\n                  <h4>{achievement.name}</h4>\n                  <p>{achievement.description}</p>\n                  {achievement.unlocked ? (\n                    <div className=\"text-success\">Unlocked!</div>\n                  ) : (\n                    <div className=\"text-muted\">{achievement.progress}% Complete</div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n        \n        {activeTab === 'certificates' && (\n          <div>\n            <h3 className=\"mb-3\">Printable Certificates</h3>\n            {certificates.length === 0 ? (\n              <p>No certificates earned yet. Complete activities to earn certificates!</p>\n            ) : (\n              certificates.map((certificate) => (\n                <div key={certificate.id} className=\"mb-4\">\n                  <h4>{certificate.title}</h4>\n                  <div className=\"certificate-preview\">\n                    <div className=\"certificate-content\">\n                      <h2>{certificate.title}</h2>\n                      <h3>Awarded to: {currentUser.children?.find(child => child.id === certificate.childId)?.name || 'Your Child'}</h3>\n                      <p>{certificate.description}</p>\n                      <p>Date: {new Date(certificate.date).toLocaleDateString()}</p>\n                    </div>\n                  </div>\n                  <div className=\"certificate-actions\">\n                    <button \n                      className=\"btn btn-outline\" \n                      onClick={() => handleShareCertificate(certificate.id)}\n                    >\n                      <FaShare className=\"me-2\" /> Share\n                    </button>\n                    <button \n                      className=\"btn btn-primary print-button\" \n                      onClick={() => handlePrintCertificate(certificate.id)}\n                    >\n                      <FaPrint className=\"me-2\" /> Print\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n        \n        {activeTab === 'marketplace' && (\n          <div>\n            <h3 className=\"mb-3\">Rewards Marketplace</h3>\n            <p>Use your points to redeem these special rewards for your child:</p>\n            \n            <div className=\"marketplace-grid\">\n              {marketplace.map((reward) => (\n                <div key={reward.id} className=\"reward-item\">\n                  <img src={reward.image} alt={reward.name} className=\"reward-image\" />\n                  <div className=\"reward-content\">\n                    <div className=\"reward-points\">{reward.points} Points</div>\n                    <h4>{reward.name}</h4>\n                    <p>{reward.description}</p>\n                    <button \n                      className=\"btn btn-primary w-100 mt-2\" \n                      disabled={points < reward.points || reward.redeemed}\n                      onClick={() => handleRedeemReward(reward.id)}\n                    >\n                      {reward.redeemed ? 'Redeemed' : 'Redeem Reward'}\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Rewards;\n","import React, { useState, useEffect } from 'react';\nimport { FaUser, FaCog, FaBell, FaLock, FaCreditCard } from 'react-icons/fa';\nimport '../styles/Profile.css';\n\nconst Profile = () => {\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('profile');\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/user`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to fetch profile');\n        }\n\n        const data = await response.json();\n        setProfile(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProfile();\n  }, []);\n\n  const handleProfileUpdate = async (e) => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/user`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(profile)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update profile');\n      }\n\n      const updatedProfile = await response.json();\n      setProfile(updatedProfile);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading profile...</div>;\n  }\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n\n  if (!profile) {\n    return <div className=\"no-profile\">No profile data available</div>;\n  }\n\n  return (\n    <div className=\"profile-container\">\n      <div className=\"profile-sidebar\">\n        <div className=\"profile-header\">\n          <div className=\"profile-avatar\">\n            <FaUser />\n          </div>\n          <h2>{profile.name}</h2>\n          <p>{profile.email}</p>\n        </div>\n\n        <nav className=\"profile-nav\">\n          <button \n            className={`nav-item ${activeTab === 'profile' ? 'active' : ''}`}\n            onClick={() => setActiveTab('profile')}\n          >\n            <FaUser /> Profile\n          </button>\n          <button \n            className={`nav-item ${activeTab === 'settings' ? 'active' : ''}`}\n            onClick={() => setActiveTab('settings')}\n          >\n            <FaCog /> Settings\n          </button>\n          <button \n            className={`nav-item ${activeTab === 'security' ? 'active' : ''}`}\n            onClick={() => setActiveTab('security')}\n          >\n            <FaLock /> Security\n          </button>\n        </nav>\n      </div>\n\n      <div className=\"profile-content\">\n        {activeTab === 'profile' && (\n          <div className=\"profile-section\">\n            <h3>Profile Information</h3>\n            <form onSubmit={handleProfileUpdate}>\n              <div className=\"form-group\">\n                <label>Name</label>\n                <input\n                  type=\"text\"\n                  value={profile.name}\n                  onChange={(e) => setProfile({ ...profile, name: e.target.value })}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Email</label>\n                <input\n                  type=\"email\"\n                  value={profile.email}\n                  onChange={(e) => setProfile({ ...profile, email: e.target.value })}\n                />\n              </div>\n              <button type=\"submit\" className=\"btn btn-primary\">\n                Save Changes\n              </button>\n            </form>\n          </div>\n        )}\n\n        {activeTab === 'settings' && (\n          <div className=\"settings-section\">\n            <h3>Account Settings</h3>\n            <div className=\"settings-grid\">\n              <div className=\"setting-card\">\n                <h4>Language</h4>\n                <select value={profile.language} onChange={(e) => setProfile({ ...profile, language: e.target.value })}>\n                  <option value=\"en\">English</option>\n                  <option value=\"es\">Spanish</option>\n                  <option value=\"fr\">French</option>\n                </select>\n              </div>\n              <div className=\"setting-card\">\n                <h4>Theme</h4>\n                <select value={profile.theme} onChange={(e) => setProfile({ ...profile, theme: e.target.value })}>\n                  <option value=\"light\">Light</option>\n                  <option value=\"dark\">Dark</option>\n                  <option value=\"system\">System</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'security' && (\n          <div className=\"security-section\">\n            <h3>Security Settings</h3>\n            <div className=\"security-options\">\n              <button className=\"btn btn-secondary\">\n                Change Password\n              </button>\n              <button className=\"btn btn-secondary\">\n                Enable Two-Factor Authentication\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React, { useState, useEffect } from 'react';\nimport { useContext } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport '../styles/main.css';\nimport '../styles/DailyChallenge.css';\nimport '../styles/ChallengeCard.css';\n\nconst Challenges = () => {\n  const { user } = useAuth();\n  const [activeChild, setActiveChild] = useState(null);\n  const [activeTab, setActiveTab] = useState('daily');\n  const [dailyChallenge, setDailyChallenge] = useState({\n    title: 'Ask, Don\\'t Tell Challenge',\n    description: 'When your child asks for help today, respond with a question that helps them solve the problem themselves.',\n    completed: false\n  });\n  const [calendarChallenges, setCalendarChallenges] = useState([\n    {\n      day: 1,\n      title: 'Ask, Don\\'t Tell Challenge',\n      description: 'When your child asks for help today, respond with a question that helps them solve the problem themselves.',\n      completed: true\n    },\n    {\n      day: 2,\n      title: 'Growth Mindset Moment',\n      description: 'Add \"yet\" to any statement your child makes about not being able to do something.',\n      completed: true\n    },\n    {\n      day: 3,\n      title: 'Conversation Starter',\n      description: 'Practice a new conversation skill with your child in a low-pressure situation.',\n      completed: true\n    },\n    {\n      day: 4,\n      title: 'Strength Spotlight',\n      description: 'Point out a specific strength you notice in your child today.',\n      completed: true\n    },\n    {\n      day: 5,\n      title: 'Fear Reframe',\n      description: 'Help your child identify and reframe one fear or worry they have.',\n      completed: true\n    },\n    {\n      day: 6,\n      title: 'Problem-Solving Practice',\n      description: 'Present a small problem and guide your child through solving it independently.',\n      completed: false\n    },\n    {\n      day: 7,\n      title: 'Mistake Celebration',\n      description: 'Share a mistake you made and what you learned from it.',\n      completed: false\n    },\n    {\n      day: 8,\n      title: 'Social Scenario Practice',\n      description: 'Role-play a challenging social situation with your child.',\n      completed: false\n    },\n    {\n      day: 9,\n      title: 'Purpose Exploration',\n      description: 'Ask your child what activities make them feel happy and helpful.',\n      completed: false\n    },\n    {\n      day: 10,\n      title: 'Brave Step Challenge',\n      description: 'Encourage your child to take one small step toward something that makes them nervous.',\n      completed: false\n    },\n    {\n      day: 11,\n      title: 'Independent Task',\n      description: 'Identify one new responsibility your child can take on independently.',\n      completed: false\n    },\n    {\n      day: 12,\n      title: 'Effort Praise',\n      description: 'Focus exclusively on praising effort rather than results today.',\n      completed: false\n    },\n    {\n      day: 13,\n      title: 'Active Listening',\n      description: 'Practice active listening with your child for at least 10 minutes without interruption.',\n      completed: false\n    },\n    {\n      day: 14,\n      title: 'Strength in Action',\n      description: 'Create an opportunity for your child to use one of their strengths today.',\n      completed: false\n    },\n    {\n      day: 15,\n      title: 'Worry Detective',\n      description: 'Help your child investigate evidence for and against a worry they have.',\n      completed: false\n    },\n    {\n      day: 16,\n      title: 'Choice Menu',\n      description: 'Offer your child meaningful choices throughout the day.',\n      completed: false\n    },\n    {\n      day: 17,\n      title: 'Challenge Embrace',\n      description: 'Encourage your child to try something challenging and discuss how their brain grows from challenges.',\n      completed: false\n    },\n    {\n      day: 18,\n      title: 'Assertiveness Practice',\n      description: 'Help your child practice expressing their needs clearly and respectfully.',\n      completed: false\n    },\n    {\n      day: 19,\n      title: 'Values Exploration',\n      description: 'Discuss what matters most to your child and how they can live those values.',\n      completed: false\n    },\n    {\n      day: 20,\n      title: 'Relaxation Technique',\n      description: 'Teach your child a new relaxation technique to manage anxiety.',\n      completed: false\n    },\n    {\n      day: 21,\n      title: 'Problem-Solving Steps',\n      description: 'Guide your child through the formal steps of problem-solving for a current challenge.',\n      completed: false\n    },\n    {\n      day: 22,\n      title: 'Learning from Others',\n      description: 'Share a story about someone who overcame obstacles through persistence.',\n      completed: false\n    },\n    {\n      day: 23,\n      title: 'Empathy Builder',\n      description: 'Help your child practice understanding someone else\\'s perspective.',\n      completed: false\n    },\n    {\n      day: 24,\n      title: 'Passion Project',\n      description: 'Help your child take one step forward on a project they\\'re passionate about.',\n      completed: false\n    },\n    {\n      day: 25,\n      title: 'Gradual Exposure',\n      description: 'Create a small step toward facing something your child fears.',\n      completed: false\n    },\n    {\n      day: 26,\n      title: 'Self-Help Skills',\n      description: 'Teach your child one new self-help skill appropriate for their age.',\n      completed: false\n    },\n    {\n      day: 27,\n      title: 'Persistence Practice',\n      description: 'Encourage your child to stick with something difficult for a set period of time.',\n      completed: false\n    },\n    {\n      day: 28,\n      title: 'Conversation Challenge',\n      description: 'Challenge your child to start a conversation with someone new or ask questions to keep a conversation going.',\n      completed: false\n    },\n    {\n      day: 29,\n      title: 'Strength Celebration',\n      description: 'Have a special celebration of your child\\'s unique strengths and qualities.',\n      completed: false\n    },\n    {\n      day: 30,\n      title: 'Confidence Reflection',\n      description: 'Reflect with your child on how they\\'ve grown in confidence over the past month.',\n      completed: false\n    }\n  ]);\n\n  useEffect(() => {\n    if (user && user.children && user.children.length > 0) {\n      setActiveChild(user.children[0]);\n    }\n  }, [user]);\n\n  const handleChildChange = (e) => {\n    const childId = e.target.value;\n    const selected = user.children.find(child => child.id === childId);\n    setActiveChild(selected);\n  };\n\n  const handleCompleteChallenge = () => {\n    setDailyChallenge({\n      ...dailyChallenge,\n      completed: true\n    });\n  };\n\n  const handleCalendarChallengeToggle = (day) => {\n    setCalendarChallenges(\n      calendarChallenges.map(challenge => \n        challenge.day === day \n          ? { ...challenge, completed: !challenge.completed } \n          : challenge\n      )\n    );\n  };\n\n  return (\n    <div className=\"challenges-page\">\n      <div className=\"container\">\n        <h1>Confidence Challenges</h1>\n        \n        {user && user.children && user.children.length > 0 ? (\n          <div className=\"child-selector\">\n            <label htmlFor=\"childSelect\">Select Child: </label>\n            <select \n              id=\"childSelect\" \n              onChange={handleChildChange}\n              value={activeChild?.id}\n            >\n              {user.children.map(child => (\n                <option key={child.id} value={child.id}>\n                  {child.name} ({child.age} years)\n                </option>\n              ))}\n            </select>\n          </div>\n        ) : (\n          <div className=\"no-children-message\">\n            <p>You haven't added any children to your profile yet.</p>\n          </div>\n        )}\n        \n        {activeChild && (\n          <>\n            <div className=\"challenges-tabs\">\n              <button \n                className={activeTab === 'daily' ? 'active' : ''} \n                onClick={() => setActiveTab('daily')}\n              >\n                Today's Challenge\n              </button>\n              <button \n                className={activeTab === 'calendar' ? 'active' : ''} \n                onClick={() => setActiveTab('calendar')}\n              >\n                30-Day Calendar\n              </button>\n            </div>\n            \n            <div className=\"challenges-content\">\n              {activeTab === 'daily' && (\n                <div className=\"daily-challenge-tab\">\n                  <div className=\"dashboard-section\">\n                    <h2>Today's Challenge for {activeChild.name}</h2>\n                    <div className=\"challenge-card\">\n                      <h3>{dailyChallenge.title}</h3>\n                      <p>{dailyChallenge.description}</p>\n                      {dailyChallenge.completed ? (\n                        <div className=\"completed-message\">\n                          <span className=\"completed-badge\">Completed</span>\n                          <p>Great job! Come back tomorrow for a new challenge.</p>\n                        </div>\n                      ) : (\n                        <button \n                          className=\"btn btn-primary\"\n                          onClick={handleCompleteChallenge}\n                        >\n                          Mark as Complete\n                        </button>\n                      )}\n                    </div>\n                    \n                    <div className=\"challenge-tips\">\n                      <h3>Tips for Success</h3>\n                      <ul>\n                        <li>Try to complete the challenge early in the day</li>\n                        <li>Explain to your child what you're doing and why</li>\n                        <li>Take notes on what worked and what didn't</li>\n                        <li>Be consistent with daily challenges for best results</li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {activeTab === 'calendar' && (\n                <div className=\"calendar-challenge-tab\">\n                  <div className=\"dashboard-section\">\n                    <h2>30-Day Confidence Challenge Calendar</h2>\n                    <p>Complete one challenge each day to build your child's confidence systematically.</p>\n                    \n                    <div className=\"challenge-progress\">\n                      <p>\n                        <strong>Progress: </strong>\n                        {calendarChallenges.filter(c => c.completed).length} / 30 challenges completed\n                      </p>\n                      <div className=\"progress-bar\">\n                        <div \n                          className=\"progress-fill\" \n                          style={{ \n                            width: `${(calendarChallenges.filter(c => c.completed).length / 30) * 100}%` \n                          }}\n                        ></div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"calendar-challenges\">\n                      {calendarChallenges.map(challenge => (\n                        <div \n                          key={challenge.day} \n                          className={`calendar-day ${challenge.completed ? 'completed' : ''}`}\n                        >\n                          <div className=\"day-number\">Day {challenge.day}</div>\n                          <div className=\"day-content\">\n                            <h3>{challenge.title}</h3>\n                            <p>{challenge.description}</p>\n                          </div>\n                          <div className=\"day-action\">\n                            <button \n                              className={`btn ${challenge.completed ? 'btn-secondary' : 'btn-primary'}`}\n                              onClick={() => handleCalendarChallengeToggle(challenge.day)}\n                            >\n                              {challenge.completed ? 'Completed' : 'Mark Complete'}\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Challenges;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaStar, FaClock, FaUserFriends, FaCheck, FaArrowLeft } from 'react-icons/fa';\nimport '../styles/DailyChallenge.css';\n\nconst API_URL = 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\nconst ChallengeDetail = () => {\n  const { challengeId } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [challenge, setChallenge] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedChild, setSelectedChild] = useState(null);\n\n  useEffect(() => {\n    if (user && user.children && user.children.length > 0 && !selectedChild) {\n      setSelectedChild(user.children[0].id);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    const fetchChallenge = async () => {\n      if (!user || !selectedChild) return;\n\n      try {\n        setLoading(true);\n        setError(null);\n        const token = localStorage.getItem('authToken');\n\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n\n        const response = await fetch(`${API_URL}/api/challenges/${challengeId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to fetch challenge details');\n        }\n\n        const data = await response.json();\n        setChallenge(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchChallenge();\n  }, [challengeId, user, selectedChild]);\n\n  const handleComplete = async () => {\n    if (!challenge || !selectedChild) return;\n\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await fetch(`${API_URL}/api/challenges/${challengeId}/complete`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          childId: selectedChild,\n          completed: !challenge.completed\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update challenge status');\n      }\n\n      const data = await response.json();\n      setChallenge({\n        ...challenge,\n        completed: !challenge.completed\n      });\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleChildChange = (e) => {\n    const childId = e.target.value;\n    const selected = user.children.find(child => child.id === childId);\n    setSelectedChild(selected);\n  };\n\n  if (!user) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-warning\">\n          Please log in to view challenge details.\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Loading challenge details...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-danger\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!challenge) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Challenge not found.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      <button \n        className=\"btn btn-outline-secondary mb-3\" \n        onClick={() => navigate(-1)}\n      >\n        <FaArrowLeft className=\"me-2\" /> Back to Challenges\n      </button>\n\n      <div className=\"daily-challenge\">\n        {user.children && user.children.length > 0 && (\n          <div className=\"child-selector mb-4\">\n            <label htmlFor=\"childSelect\">Select Child:</label>\n            <select \n              id=\"childSelect\" \n              className=\"form-control\" \n              value={selectedChild?.id || ''} \n              onChange={handleChildChange}\n            >\n              {user.children.map(child => (\n                <option key={child.id} value={child.id}>\n                  {child.name} ({child.age} years)\n                </option>\n              ))}\n            </select>\n          </div>\n        )}\n\n        <div className=\"challenge-header\">\n          <h2>{challenge.title}</h2>\n          <div className=\"challenge-meta\">\n            <span className=\"difficulty\">\n              <FaStar /> {challenge.difficulty_level === 1 ? 'Easy' : \n                         challenge.difficulty_level === 2 ? 'Medium' : 'Hard'}\n            </span>\n            <span className=\"duration\">\n              <FaClock /> 15-20 minutes\n            </span>\n            <span className=\"age-range\">\n              <FaUserFriends /> {challenge.age_group === 'all' ? 'All Ages' : challenge.age_group}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"challenge-content\">\n          <p>{challenge.description}</p>\n          \n          <div className=\"challenge-steps\">\n            <h4>Instructions for Parents:</h4>\n            <div className=\"step\">\n              <span className=\"step-number\">1</span>\n              <p>Find a quiet, comfortable space with your child</p>\n            </div>\n            <div className=\"step\">\n              <span className=\"step-number\">2</span>\n              <p>Guide your child through the breathing exercise</p>\n            </div>\n            <div className=\"step\">\n              <span className=\"step-number\">3</span>\n              <p>Practice together until your child feels comfortable</p>\n            </div>\n            <div className=\"step\">\n              <span className=\"step-number\">4</span>\n              <p>Encourage your child to use this technique when needed</p>\n            </div>\n          </div>\n\n          <div className=\"challenge-rewards\">\n            <h4>Rewards</h4>\n            <ul>\n              <li>\n                <FaStar className=\"reward-icon\" />\n                Builds emotional regulation skills\n              </li>\n              <li>\n                <FaStar className=\"reward-icon\" />\n                Reduces anxiety and stress\n              </li>\n              <li>\n                <FaStar className=\"reward-icon\" />\n                Strengthens parent-child bond\n              </li>\n            </ul>\n          </div>\n\n          <button \n            className={`btn ${challenge.completed ? 'btn-secondary' : 'btn-primary'} complete-challenge`}\n            onClick={handleComplete}\n          >\n            <FaCheck /> {challenge.completed ? 'Mark as Incomplete' : 'Complete Challenge'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChallengeDetail; ","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext'; // Add useAuth import\nimport './styles/main.css';\n\n// Components\nimport Navigation from './components/Navigation';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\nimport PillarDetail from './components/PillarDetail';\nimport PillarsOverview from './components/PillarsOverview';\nimport Subscription from './components/Subscription';\nimport Rewards from './components/Rewards';\nimport Home from './components/Home';\nimport Profile from './components/Profile';\nimport Challenges from './pages/Challenges';\nimport ChallengeDetail from './components/ChallengeDetail';\n\n// Protected route component\nconst ProtectedRoute = ({ children }) => {\n  const { currentUser } = useAuth();\n  if (!currentUser) {\n    return <Navigate to=\"/login\" />;\n  }\n  return children;\n};\n\n// Premium route component\nconst PremiumRoute = ({ children }) => {\n  const { hasPremiumAccess } = useAuth();\n  if (!hasPremiumAccess()) {\n    return <Navigate to=\"/subscription\" />;\n  }\n  return children;\n};\n\n// Root redirect component\nconst RootRedirect = () => {\n  const { currentUser } = useAuth();\n  return <Navigate to={currentUser ? \"/dashboard\" : \"/\"} />;\n};\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <BrowserRouter>\n        <Navigation />\n        <main className=\"main-content\">\n          <Routes>\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n            <Route path=\"/dashboard\" element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/pillars\" element={\n              <ProtectedRoute>\n                <PillarsOverview />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/pillars/:pillarId\" element={\n              <ProtectedRoute>\n                <PillarDetail />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/challenges\" element={\n              <ProtectedRoute>\n                <Challenges />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/challenges/:challengeId\" element={\n              <ProtectedRoute>\n                <ChallengeDetail />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/subscription\" element={\n              <ProtectedRoute>\n                <Subscription />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/rewards\" element={\n              <ProtectedRoute>\n                <PremiumRoute>\n                  <Rewards />\n                </PremiumRoute>\n              </ProtectedRoute>\n            } />\n            <Route path=\"/profile\" element={\n              <ProtectedRoute>\n                <Profile />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/\" element={<RootRedirect />} />\n          </Routes>\n        </main>\n      </BrowserRouter>\n    </AuthProvider>\n  );\n};\n\nexport default App;\n\n// Move the ReactDOM.render to a separate index.js file\n// This should not be in App.js\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './styles/main.css';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}