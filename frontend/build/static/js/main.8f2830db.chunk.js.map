{"version":3,"sources":["contexts/AuthContext.jsx","assets/logo.png","components/Navigation.jsx","components/Login.jsx","components/Register.jsx","components/Dashboard.jsx","components/ProgressTracking.jsx","components/ChallengeCard.jsx","components/PillarDetail.jsx","components/PillarsOverview.jsx","components/Subscription.jsx","components/Rewards.jsx","components/Profile.jsx","pages/Challenges.js","components/ChallengeDetail.jsx","App.js","index.js"],"names":["AuthContext","createContext","API_URL","process","useAuth","useContext","AuthProvider","_ref","children","currentUser","setCurrentUser","useState","userSubscription","setUserSubscription","loading","setLoading","error","setError","isAuthenticated","setIsAuthenticated","async","fetchCurrentUser","token","localStorage","getItem","console","log","substring","response","fetch","method","headers","data","json","ok","status","removeItem","Error","message","user","fetchSubscriptionStatus","subscription","useEffect","loadUserData","value","register","email","password","name","body","JSON","stringify","setItem","login","logout","updateProfile","userData","prevUser","hasPremiumAccess","hasUser","hasSubscription","_jsx","Provider","Navigation","isMenuOpen","setIsMenuOpen","location","useLocation","className","_jsxs","Link","to","src","logo","alt","onClick","toggleMenu","FaTimes","FaBars","pathname","_Fragment","includes","FaUser","FaSignOutAlt","FaCrown","Login","setEmail","setPassword","navigate","useNavigate","role","onSubmit","e","preventDefault","htmlFor","FaEnvelope","type","id","onChange","target","required","FaLock","disabled","Register","setName","confirmPassword","setConfirmPassword","length","Dashboard","dashboardData","setDashboardData","selectedChild","setSelectedChild","isPremium","url","fetchDashboardData","map","child","age","FaChartLine","size","overallProgress","FaCalendarAlt","activitiesCompleted","FaTrophy","points","todayChallenge","title","description","pillars","pillar","shortDescription","progress","style","width","totalActivities","ProgressTracking","childId","pillarId","setProgress","statsResponse","statsData","pillarResponse","pillarData","pillarProgress","fetchProgress","totalCompleted","FaStar","averageRating","toFixed","slice","entry","activity","rating","Date","completedAt","toLocaleDateString","notes","progressByPillar","_pillarProgress$_coun","_pillarProgress$_avg","icon","_count","_avg","ChallengeCard","challenge","onComplete","isExpanded","setIsExpanded","setRating","setNotes","difficulty","FaClock","durationMinutes","FaUserFriends","minAge","maxAge","instructions","materials","star","placeholder","activityId","PillarDetail","useParams","setPillar","challenges","setChallenges","fetchPillarData","challengesResponse","challengesData","fetchChallenges","handleChallengeComplete","challengeId","completed","visibleChallenges","PillarsOverview","setPillars","content","setContent","achievements","setAchievements","pillarsResponse","contentResponse","achievementsResponse","pillarsData","contentData","achievementsData","Promise","all","fetchData","selected","find","pillarContent","filter","c","pillar_id","pillarChallenges","pillarAchievements","a","short_description","achievement","points_value","creates_certificate","stripePromise","loadStripe","plans","price","interval","features","regularPrice","bestValue","CheckoutForm","selectedPlan","onSuccess","onError","stripe","useStripe","elements","useElements","event","cardElement","getElement","CardElement","stripeError","paymentMethod","createPaymentMethod","card","paymentMethodId","planId","customerId","confirmError","paymentIntent","confirmCardPayment","clientSecret","options","base","fontSize","color","invalid","Subscription","setSelectedPlan","subscriptionComplete","setSubscriptionComplete","subscriptionError","setSubscriptionError","FaCheck","plan","handlePlanSelect","feature","index","Elements","setTimeout","errorMessage","FaRegStar","Rewards","activeTab","setActiveTab","certificates","setCertificates","marketplace","setMarketplace","setPoints","fetchRewardsData","unlocked","certificate","_currentUser$children","_currentUser$children2","date","handleShareCertificate","certificateId","FaShare","handlePrintCertificate","window","print","FaPrint","reward","image","redeemed","rewardId","updatedPoints","prevMarketplace","item","alert","handleRedeemReward","href","Profile","profile","setProfile","err","fetchProfile","FaCog","updatedProfile","language","theme","Challenges","activeChild","setActiveChild","dailyChallenge","setDailyChallenge","calendarChallenges","setCalendarChallenges","day","handleCompleteChallenge","handleCalendarChallengeToggle","ChallengeDetail","setChallenge","fetchChallenge","FaArrowLeft","difficulty_level","age_group","ProtectedRoute","Navigate","PremiumRoute","_ref2","RootRedirect","App","BrowserRouter","Routes","Route","path","element","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.8f2830db.chunk.js","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\n// Create the authentication context\nconst AuthContext = createContext();\n\n// Hard-code the API URL for testing if environment variables aren't working\nconst API_URL = process.env.REACT_APP_API_URL || 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\n// Custom hook to use the auth context\nexport const useAuth = ()  => {\n  return useContext(AuthContext);\n};\n\n// Provider component that wraps the app and makes auth object available to any child component that calls useAuth()\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [userSubscription, setUserSubscription] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false); // Add this for compatibility\n\n  // Function to register a new user\n  async function register(email, password, name) {\n    try {\n      setError('');\n      console.log('Registering with:', { email, name });\n      console.log('Using API URL:', API_URL);\n      \n      const response = await fetch(`${API_URL}/api/users/register`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password, name }),\n      });\n\n      const data = await response.json();\n      console.log('Register response:', data);\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to register');\n      }\n\n      // Store the token in localStorage\n      localStorage.setItem('authToken', data.token);\n      \n      // Set the current user\n      setCurrentUser(data.user);\n      setIsAuthenticated(true);\n      \n      return data;\n    } catch (error) {\n      console.error('Registration error:', error);\n      setError(error.message);\n      throw error;\n    }\n  }\n\n  // Function to log in a user\n  async function login(email, password) {\n    try {\n      setError('');\n      console.log('Logging in with:', { email });\n      console.log('Using API URL:', API_URL);\n      \n      const response = await fetch(`${API_URL}/api/users/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const data = await response.json();\n      console.log('Login response:', data);\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to login');\n      }\n\n      // Store the token in localStorage\n      localStorage.setItem('authToken', data.token);\n      \n      // Set the current user\n      setCurrentUser(data.user);\n      setIsAuthenticated(true);\n      \n      console.log('Auth state after login:', { user: data.user, isAuthenticated: true });\n      \n      // Fetch subscription status\n      await fetchSubscriptionStatus();\n      \n      return data;\n    } catch (error) {\n      console.error('Login error:', error);\n      setError(error.message);\n      throw error;\n    }\n  }\n\n  // Function to log out a user\n  async function logout() {\n    try {\n      setError('');\n      // Remove the token from localStorage\n      localStorage.removeItem('authToken');\n      \n      // Clear the current user\n      setCurrentUser(null);\n      setUserSubscription(null);\n      setIsAuthenticated(false);\n      \n      return true;\n    } catch (error) {\n      setError(error.message);\n      throw error;\n    }\n  }\n\n  // Function to fetch the current user's profile\n  async function fetchCurrentUser() {\n    try {\n      const token = localStorage.getItem('authToken');\n      \n      if (!token) {\n        setCurrentUser(null);\n        setIsAuthenticated(false);\n        setLoading(false);\n        return null;\n      }\n      \n      console.log('Fetching user profile with token:', token.substring(0, 10) + '...');\n      \n      const response = await fetch(`${API_URL}/api/users/profile`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      const data = await response.json();\n      console.log('User profile response:', data);\n\n      if (!response.ok) {\n        // If token is invalid, clear it\n        if (response.status === 401) {\n          localStorage.removeItem('authToken');\n          setCurrentUser(null);\n          setIsAuthenticated(false);\n          setLoading(false);\n          return null;\n        }\n        throw new Error(data.message || 'Failed to fetch user profile');\n      }\n\n      setCurrentUser(data.user || data); // Handle both {user: {...}} and direct user object\n      setIsAuthenticated(true);\n      return data.user || data;\n    } catch (error) {\n      console.error('Error fetching current user:', error);\n      setCurrentUser(null);\n      setIsAuthenticated(false);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Function to fetch the user's subscription status\n  async function fetchSubscriptionStatus() {\n    try {\n      const token = localStorage.getItem('authToken');\n      \n      if (!token || !currentUser) {\n        setUserSubscription(null);\n        return null;\n      }\n      \n      console.log('Fetching subscription status');\n      \n      const response = await fetch(`${API_URL}/api/subscriptions/status`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      const data = await response.json();\n      console.log('Subscription status response:', data);\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to fetch subscription status');\n      }\n\n      setUserSubscription(data.subscription);\n      return data.subscription;\n    } catch (error) {\n      console.error('Error fetching subscription status:', error);\n      setUserSubscription(null);\n      return null;\n    }\n  }\n\n  // Function to update user profile\n  async function updateProfile(userData) {\n    try {\n      setError('');\n      const token = localStorage.getItem('authToken');\n      \n      if (!token) {\n        throw new Error('Not authenticated');\n      }\n      \n      const response = await fetch(`${API_URL}/api/users/update`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify(userData),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to update profile');\n      }\n\n      // Update the current user with the new data\n      setCurrentUser(prevUser => ({\n        ...prevUser,\n        ...data.user\n      }));\n      \n      return data;\n    } catch (error) {\n      setError(error.message);\n      throw error;\n    }\n  }\n\n  // Function to check if user has access to premium features\n  function hasPremiumAccess() {\n    return userSubscription && userSubscription.status === 'active';\n  }\n\n  // Effect to fetch the current user when the component mounts\n  useEffect(() => {\n    async function loadUserData() {\n      console.log('Loading user data on mount');\n      const user = await fetchCurrentUser();\n      if (user) {\n        console.log('User found, fetching subscription status');\n        await fetchSubscriptionStatus();\n      }\n    }\n    \n    loadUserData();\n  }, []); // Empty dependency array is fine for initial load\n\n  // Create the value object that will be provided to consumers\n  const value = {\n    currentUser,\n    user: currentUser, // Add alias for compatibility\n    userSubscription,\n    isAuthenticated, // Add this for compatibility\n    loading,\n    error,\n    register,\n    login,\n    logout,\n    updateProfile,\n    fetchCurrentUser,\n    fetchSubscriptionStatus,\n    hasPremiumAccess\n  };\n\n  console.log('AuthContext state:', { \n    isAuthenticated, \n    hasUser: !!currentUser, \n    hasSubscription: !!userSubscription,\n    loading\n  });\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n\nexport default AuthContext;\n","export default __webpack_public_path__ + \"static/media/logo.0f63a7c9.png\";","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaBars, FaTimes, FaUser, FaSignOutAlt, FaCrown } from 'react-icons/fa';\nimport logo from '../assets/logo.png';\n\nconst Navigation = () => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const { currentUser, logout, userSubscription } = useAuth();\n  const location = useLocation();\n  \n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n  \n  // Close menu when route changes\n  useEffect(() => {\n    setIsMenuOpen(false);\n  }, [location]);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n    } catch (error) {\n      console.error(\"Failed to log out\", error);\n    }\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-container\">\n        <Link to=\"/\" className=\"navbar-logo\">\n          <img src={logo} alt=\"Confident Kids Logo\" />\n          <span>Confident Kids</span>\n        </Link>\n        \n        <button className=\"navbar-toggle\" onClick={toggleMenu} aria-label=\"Toggle navigation\">\n          {isMenuOpen ? <FaTimes /> : <FaBars />}\n        </button>\n        \n        <ul className={`navbar-menu ${isMenuOpen ? 'active' : ''}`}>\n          <li className=\"navbar-item\">\n            <Link \n              to=\"/\" \n              className={`navbar-link ${location.pathname === '/' ? 'active' : ''}`}\n            >\n              Home\n            </Link>\n          </li>\n          \n          {currentUser && (\n            <>\n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/dashboard\" \n                  className={`navbar-link ${location.pathname === '/dashboard' ? 'active' : ''}`}\n                >\n                  Dashboard\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/pillars\" \n                  className={`navbar-link ${location.pathname.includes('/pillars') ? 'active' : ''}`}\n                >\n                  Pillars\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/challenges\" \n                  className={`navbar-link ${location.pathname === '/challenges' ? 'active' : ''}`}\n                >\n                  Challenges\n                </Link>\n              </li>\n              \n              {userSubscription && userSubscription.status === 'active' && (\n                <li className=\"navbar-item\">\n                  <Link \n                    to=\"/rewards\" \n                    className={`navbar-link ${location.pathname === '/rewards' ? 'active' : ''}`}\n                  >\n                    Rewards\n                    <span className=\"premium-badge\">PRO</span>\n                  </Link>\n                </li>\n              )}\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/profile\" \n                  className={`navbar-link ${location.pathname === '/profile' ? 'active' : ''}`}\n                >\n                  <FaUser /> Profile\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <button onClick={handleLogout} className=\"navbar-link\">\n                  <FaSignOutAlt /> Logout\n                </button>\n              </li>\n            </>\n          )}\n          \n          {!currentUser && (\n            <>\n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/about\" \n                  className={`navbar-link ${location.pathname === '/about' ? 'active' : ''}`}\n                >\n                  About\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/login\" \n                  className={`navbar-link ${location.pathname === '/login' ? 'active' : ''}`}\n                >\n                  Login\n                </Link>\n              </li>\n              \n              <li className=\"navbar-item\">\n                <Link \n                  to=\"/register\" \n                  className=\"navbar-cta\"\n                >\n                  Sign Up\n                </Link>\n              </li>\n            </>\n          )}\n          \n          {currentUser && !userSubscription?.status === 'active' && (\n            <li className=\"navbar-item\">\n              <Link \n                to=\"/subscription\" \n                className=\"navbar-cta\"\n              >\n                <FaCrown /> Upgrade\n              </Link>\n            </li>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaEnvelope, FaLock } from 'react-icons/fa';\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setError('');\n      setLoading(true);\n      await login(email, password);\n      navigate('/dashboard');\n    } catch (error) {\n      setError(error.message || 'Failed to log in');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <div className=\"card mt-5\">\n            <div className=\"card-header\">\n              <h2 className=\"text-center\">Log In</h2>\n            </div>\n            <div className=\"card-body\">\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {error}\n                </div>\n              )}\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group mb-3\">\n                  <label htmlFor=\"email\">\n                    <FaEnvelope className=\"me-2\" /> Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group mb-4\">\n                  <label htmlFor=\"password\">\n                    <FaLock className=\"me-2\" /> Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-100\"\n                  disabled={loading}\n                >\n                  {loading ? 'Logging In...' : 'Log In'}\n                </button>\n              </form>\n              \n              <div className=\"text-center mt-3\">\n                <Link to=\"/forgot-password\">Forgot Password?</Link>\n              </div>\n            </div>\n            <div className=\"card-footer text-center\">\n              Need an account? <Link to=\"/register\">Sign Up</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaEnvelope, FaLock, FaUser } from 'react-icons/fa';\n\nconst Register = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { register } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Form validation\n    if (password !== confirmPassword) {\n      return setError('Passwords do not match');\n    }\n    \n    if (password.length < 6) {\n      return setError('Password must be at least 6 characters');\n    }\n    \n    try {\n      setError('');\n      setLoading(true);\n      await register(email, password, name);\n      navigate('/dashboard');\n    } catch (error) {\n      setError(error.message || 'Failed to create an account');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <div className=\"card mt-5\">\n            <div className=\"card-header\">\n              <h2 className=\"text-center\">Create Your Account</h2>\n            </div>\n            <div className=\"card-body\">\n              {error && (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {error}\n                </div>\n              )}\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group mb-3\">\n                  <label htmlFor=\"name\">\n                    <FaUser className=\"me-2\" /> Full Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"name\"\n                    className=\"form-control\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group mb-3\">\n                  <label htmlFor=\"email\">\n                    <FaEnvelope className=\"me-2\" /> Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group mb-3\">\n                  <label htmlFor=\"password\">\n                    <FaLock className=\"me-2\" /> Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group mb-4\">\n                  <label htmlFor=\"confirmPassword\">\n                    <FaLock className=\"me-2\" /> Confirm Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"confirmPassword\"\n                    className=\"form-control\"\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                \n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-100\"\n                  disabled={loading}\n                >\n                  {loading ? 'Creating Account...' : 'Sign Up'}\n                </button>\n              </form>\n            </div>\n            <div className=\"card-footer text-center\">\n              Already have an account? <Link to=\"/login\">Log In</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaChartLine, FaCalendarAlt, FaTrophy, FaCrown } from 'react-icons/fa';\n\nconst Dashboard = () => {\n  const [dashboardData, setDashboardData] = useState(null);\n  const [selectedChild, setSelectedChild] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { currentUser, hasPremiumAccess } = useAuth();\n  const isPremium = hasPremiumAccess();\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('authToken');\n        \n        // Set the first child as selected by default if user has children\n        if (currentUser.children && currentUser.children.length > 0) {\n          setSelectedChild(currentUser.children[0].id);\n        }\n        \n        // Only include childId in the URL if a child is selected\n        const url = selectedChild \n          ? `${process.env.REACT_APP_API_URL}/api/dashboard?childId=${selectedChild}`\n          : `${process.env.REACT_APP_API_URL}/api/dashboard`;\n        \n        const response = await fetch(url, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        const data = await response.json();\n\n        if (!response.ok) {\n          throw new Error(data.message || 'Failed to fetch dashboard data');\n        }\n\n        setDashboardData(data);\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n        setError('Failed to load dashboard data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDashboardData();\n  }, [currentUser, selectedChild]);\n\n  const handleChildChange = (e) => {\n    setSelectedChild(e.target.value);\n  };\n\n  if (loading) {\n    return <div className=\"text-center p-5\">Loading dashboard data...</div>;\n  }\n\n  if (error) {\n    return <div className=\"alert alert-danger\">{error}</div>;\n  }\n\n  if (!dashboardData) {\n    return <div className=\"text-center p-5\">No dashboard data available.</div>;\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      <div className=\"dashboard-welcome\">\n        <h1>Welcome, {currentUser.name}!</h1>\n        <p>Track your child's confidence journey and explore activities designed to build their confidence.</p>\n      </div>\n      \n      {currentUser.children && currentUser.children.length > 0 ? (\n        <>\n          <div className=\"child-selector mb-4\">\n            <label htmlFor=\"childSelect\">Select Child:</label>\n            <select \n              id=\"childSelect\" \n              className=\"form-control\" \n              value={selectedChild} \n              onChange={handleChildChange}\n            >\n              {currentUser.children.map(child => (\n                <option key={child.id} value={child.id}>\n                  {child.name} ({child.age} years)\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          {selectedChild ? (\n            <>\n              <div className=\"dashboard-stats\">\n                <div className=\"stat-card\">\n                  <FaChartLine className=\"mb-2\" size={24} />\n                  <div className=\"stat-value\">{dashboardData.overallProgress}%</div>\n                  <div className=\"stat-label\">Overall Progress</div>\n                </div>\n                \n                <div className=\"stat-card\">\n                  <FaCalendarAlt className=\"mb-2\" size={24} />\n                  <div className=\"stat-value\">{dashboardData.activitiesCompleted}</div>\n                  <div className=\"stat-label\">Activities Completed</div>\n                </div>\n                \n                <div className=\"stat-card\">\n                  <FaTrophy className=\"mb-2\" size={24} />\n                  <div className=\"stat-value\">{isPremium ? dashboardData.points : 'Locked'}</div>\n                  <div className=\"stat-label\">Reward Points {!isPremium && <span className=\"premium-badge\">PRO</span>}</div>\n                </div>\n              </div>\n              \n              <div className=\"today-challenge\">\n                <h2>Today's Challenge</h2>\n                <div className=\"challenge-container\">\n                  <h3 className=\"challenge-title\">{dashboardData.todayChallenge.title}</h3>\n                  <p className=\"challenge-description\">{dashboardData.todayChallenge.description}</p>\n                  <Link to={`/challenges/${dashboardData.todayChallenge.id}`} className=\"btn btn-primary mt-3\">\n                    Start Challenge\n                  </Link>\n                </div>\n              </div>\n              \n              <h2 className=\"mt-5 mb-3\">Confidence Pillars</h2>\n              <div className=\"grid-3\">\n                {dashboardData.pillars.map((pillar) => (\n                  <div key={pillar.id} className={`pillar-card pillar-card-${pillar.id}`}>\n                    <div className=\"pillar-card-header\">\n                      <h3>{pillar.name}</h3>\n                    </div>\n                    <div className=\"pillar-card-body\">\n                      <p>{pillar.shortDescription}</p>\n                      <div className=\"progress-label\">\n                        <span>Progress</span>\n                        <span>{pillar.progress}%</span>\n                      </div>\n                      <div className=\"progress-container\">\n                        <div \n                          className={`progress-bar progress-bar-${pillar.id}`} \n                          style={{ width: `${pillar.progress}%` }}\n                        ></div>\n                      </div>\n                    </div>\n                    <div className=\"pillar-card-footer\">\n                      <span>{pillar.activitiesCompleted}/{pillar.totalActivities} Activities</span>\n                      <Link to={`/pillars/${pillar.id}`} className=\"btn btn-sm btn-outline\">\n                        Explore\n                      </Link>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </>\n          ) : (\n            <div className=\"alert alert-info mt-4\">\n              <h4>Select a Child</h4>\n              <p>Please select a child from the dropdown above to view their dashboard.</p>\n            </div>\n          )}\n        </>\n      ) : (\n        <div className=\"alert alert-info mt-4\">\n          <h4>Let's Get Started!</h4>\n          <p>Add your child's profile to begin their confidence journey.</p>\n          <Link to=\"/profile\" className=\"btn btn-primary mt-2\">\n            Add Child Profile\n          </Link>\n        </div>\n      )}\n      \n      {!isPremium && (\n        <div className=\"upgrade-prompt standard mt-5\">\n          <h3><FaCrown className=\"me-2\" /> Unlock Premium Features</h3>\n          <p>Subscribe to our premium plan to access all activities, detailed progress tracking, and rewards for your child.</p>\n          <Link to=\"/subscription\" className=\"upgrade-button\">Upgrade Now</Link>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaChartLine, FaTrophy, FaCalendarAlt, FaChild, FaStar } from 'react-icons/fa';\n\nconst API_URL = 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\nconst ProgressTracking = ({ childId, pillarId }) => {\n  const [progress, setProgress] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { currentUser, hasPremiumAccess } = useAuth();\n  const isPremium = hasPremiumAccess();\n\n  useEffect(() => {\n    const fetchProgress = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('authToken');\n        \n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        \n        // Fetch progress statistics\n        const statsResponse = await fetch(\n          `${API_URL}/api/progress/stats/child/${childId}`,\n          {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n            },\n          }\n        );\n\n        if (!statsResponse.ok) {\n          const statsData = await statsResponse.json();\n          throw new Error(statsData.message || 'Failed to fetch progress statistics');\n        }\n\n        const statsData = await statsResponse.json();\n\n        // If pillarId is provided, fetch specific pillar progress\n        if (pillarId) {\n          const pillarResponse = await fetch(\n            `${API_URL}/api/progress/pillar/${pillarId}/child/${childId}`,\n            {\n              headers: {\n                'Authorization': `Bearer ${token}`,\n              },\n            }\n          );\n\n          if (!pillarResponse.ok) {\n            const pillarData = await pillarResponse.json();\n            throw new Error(pillarData.message || 'Failed to fetch pillar progress');\n          }\n\n          const pillarData = await pillarResponse.json();\n          setProgress({\n            ...statsData,\n            pillarProgress: pillarData,\n          });\n        } else {\n          setProgress(statsData);\n        }\n      } catch (error) {\n        console.error('Error fetching progress:', error);\n        setError(error.message || 'Failed to load progress data');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (childId) {\n      fetchProgress();\n    }\n  }, [childId, pillarId]);\n\n  const updateProgress = async (pillarId, activityId, completed) => {\n    if (!childId) return;\n    \n    try {\n      const token = localStorage.getItem('authToken');\n      \n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      const response = await fetch(`${API_URL}/api/progress/update`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          childId,\n          pillarId,\n          activityId,\n          completed\n        }),\n      });\n\n      if (!response.ok) {\n        const data = await response.json();\n        throw new Error(data.message || 'Failed to update progress');\n      }\n\n      const data = await response.json();\n\n      // Update local state with new progress data\n      setProgress(prevData => {\n        if (!prevData) return null;\n        \n        const updatedPillars = prevData.pillars.map(pillar => {\n          if (pillar.id === pillarId) {\n            const updatedActivities = pillar.activities.map(activity => {\n              if (activity.id === activityId) {\n                return { ...activity, completed };\n              }\n              return activity;\n            });\n            return { ...pillar, activities: updatedActivities };\n          }\n          return pillar;\n        });\n        \n        return {\n          ...prevData,\n          pillars: updatedPillars\n        };\n      });\n    } catch (error) {\n      console.error('Error updating progress:', error);\n      setError(error.message || 'Failed to update progress. Please try again later.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"progress-section\">\n        <div className=\"progress-loading\">Loading progress...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"progress-section\">\n        <div className=\"progress-error alert alert-danger\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!progress) {\n    return null;\n  }\n\n  return (\n    <div className=\"progress-tracking\">\n      <div className=\"progress-summary\">\n        <div className=\"progress-stat\">\n          <FaTrophy className=\"icon\" />\n          <div className=\"stat-content\">\n            <span className=\"stat-value\">{progress.totalCompleted || 0}</span>\n            <span className=\"stat-label\">Challenges Completed</span>\n          </div>\n        </div>\n        \n        <div className=\"progress-stat\">\n          <FaStar className=\"icon\" />\n          <div className=\"stat-content\">\n            <span className=\"stat-value\">{(progress.averageRating || 0).toFixed(1)}</span>\n            <span className=\"stat-label\">Average Rating</span>\n          </div>\n        </div>\n      </div>\n\n      {pillarId && progress.pillarProgress && progress.pillarProgress.length > 0 && (\n        <div className=\"pillar-progress\">\n          <h3>Recent Challenges</h3>\n          <div className=\"recent-challenges\">\n            {progress.pillarProgress.slice(0, 3).map((entry) => (\n              <div key={entry.id} className=\"recent-challenge\">\n                <div className=\"challenge-info\">\n                  <h4>{entry.activity.title}</h4>\n                  <div className=\"challenge-meta\">\n                    <span className=\"rating\">\n                      <FaStar /> {entry.rating || 0}\n                    </span>\n                    <span className=\"date\">\n                      {new Date(entry.completedAt).toLocaleDateString()}\n                    </span>\n                  </div>\n                </div>\n                {entry.notes && (\n                  <p className=\"challenge-notes\">{entry.notes}</p>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {progress.progressByPillar && progress.progressByPillar.length > 0 && (\n        <div className=\"progress-by-pillar\">\n          <h3>Progress by Pillar</h3>\n          <div className=\"pillars-grid\">\n            {progress.progressByPillar.map((pillarProgress) => (\n              <div key={pillarProgress.pillarId} className=\"pillar-progress-card\">\n                <div className=\"pillar-header\">\n                  <h4>{pillarProgress.pillar.name}</h4>\n                  <span className=\"pillar-icon\">{pillarProgress.pillar.icon}</span>\n                </div>\n                <div className=\"pillar-stats\">\n                  <div className=\"stat\">\n                    <FaChartLine className=\"icon\" />\n                    <span>{pillarProgress._count?.id || 0} completed</span>\n                  </div>\n                  <div className=\"stat\">\n                    <FaStar className=\"icon\" />\n                    <span>{(pillarProgress._avg?.rating || 0).toFixed(1)} avg rating</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProgressTracking;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaStar, FaClock, FaUserFriends } from 'react-icons/fa';\n\nconst ChallengeCard = ({ challenge, childId, pillarId, onComplete }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [notes, setNotes] = useState('');\n\n  const handleComplete = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/progress`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\n        },\n        body: JSON.stringify({\n          childId,\n          pillarId,\n          activityId: challenge.id,\n          rating,\n          notes,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to mark challenge as complete');\n      }\n\n      onComplete && onComplete(challenge.id);\n      setIsExpanded(false);\n    } catch (error) {\n      console.error('Error completing challenge:', error);\n    }\n  };\n\n  return (\n    <div className=\"challenge-card\">\n      <div className=\"challenge-header\" onClick={() => setIsExpanded(!isExpanded)}>\n        <h3>{challenge.title}</h3>\n        <div className=\"challenge-meta\">\n          <span className=\"difficulty\">\n            <FaStar className={challenge.difficulty === 'easy' ? 'text-success' : \n                           challenge.difficulty === 'medium' ? 'text-warning' : 'text-danger'} />\n            {challenge.difficulty}\n          </span>\n          <span className=\"duration\">\n            <FaClock /> {challenge.durationMinutes} min\n          </span>\n          <span className=\"age-range\">\n            <FaUserFriends /> {challenge.minAge}-{challenge.maxAge} years\n          </span>\n        </div>\n      </div>\n\n      {isExpanded && (\n        <div className=\"challenge-content\">\n          <p className=\"description\">{challenge.description}</p>\n          \n          <div className=\"instructions\">\n            <h4>Instructions for Parents:</h4>\n            <p>{challenge.instructions}</p>\n          </div>\n\n          {challenge.materials && (\n            <div className=\"materials\">\n              <h4>Materials Needed:</h4>\n              <p>{challenge.materials}</p>\n            </div>\n          )}\n\n          <div className=\"completion-form\">\n            <h4>Complete Challenge</h4>\n            <div className=\"rating-input\">\n              <label>Rating (1-5):</label>\n              <div className=\"stars\">\n                {[1, 2, 3, 4, 5].map((star) => (\n                  <FaStar\n                    key={star}\n                    className={`star ${star <= rating ? 'active' : ''}`}\n                    onClick={() => setRating(star)}\n                  />\n                ))}\n              </div>\n            </div>\n            \n            <div className=\"notes-input\">\n              <label>Notes:</label>\n              <textarea\n                value={notes}\n                onChange={(e) => setNotes(e.target.value)}\n                placeholder=\"Add any notes about how the challenge went...\"\n              />\n            </div>\n\n            <button \n              className=\"btn btn-primary\"\n              onClick={handleComplete}\n              disabled={rating === 0}\n            >\n              Mark as Complete\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChallengeCard; ","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport ProgressTracking from './ProgressTracking';\nimport ChallengeCard from './ChallengeCard';\nimport { FaLock, FaCrown } from 'react-icons/fa';\nimport '../styles/ChallengeCard.css';\n\nconst API_URL = 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\nconst PillarDetail = () => {\n  const { pillarId } = useParams();\n  const [pillar, setPillar] = useState(null);\n  const [challenges, setChallenges] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedChild, setSelectedChild] = useState(null);\n  const { user, hasPremiumAccess } = useAuth();\n  const isPremium = hasPremiumAccess();\n\n  useEffect(() => {\n    const fetchPillarData = async () => {\n      if (!user) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError('');\n        const token = localStorage.getItem('authToken');\n        \n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        \n        // Fetch pillar data\n        const pillarResponse = await fetch(`${API_URL}/api/pillars/${pillarId}`, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        if (!pillarResponse.ok) {\n          const pillarData = await pillarResponse.json();\n          throw new Error(pillarData.message || 'Failed to fetch pillar data');\n        }\n\n        const pillarData = await pillarResponse.json();\n        setPillar(pillarData);\n\n        // Set the first child as selected by default if user has children\n        if (user.children && user.children.length > 0 && !selectedChild) {\n          setSelectedChild(user.children[0].id);\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError(error.message || 'Failed to load data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPillarData();\n  }, [pillarId, user, selectedChild]);\n\n  // Separate useEffect for fetching challenges when child is selected\n  useEffect(() => {\n    const fetchChallenges = async () => {\n      if (!selectedChild || !user) return;\n\n      try {\n        setLoading(true);\n        setError('');\n        const token = localStorage.getItem('authToken');\n\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n\n        // Fetch challenges for the pillar\n        const challengesResponse = await fetch(\n          `${API_URL}/api/pillars/${pillarId}/challenges?childId=${selectedChild}`,\n          {\n            method: 'GET',\n            headers: {\n              'Authorization': `Bearer ${token}`,\n            },\n          }\n        );\n\n        if (!challengesResponse.ok) {\n          const challengesData = await challengesResponse.json();\n          throw new Error(challengesData.message || 'Failed to fetch challenges');\n        }\n\n        const challengesData = await challengesResponse.json();\n        setChallenges(challengesData.challenges || []);\n      } catch (error) {\n        console.error('Error fetching challenges:', error);\n        setError(error.message || 'Failed to load challenges. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchChallenges();\n  }, [pillarId, selectedChild, user]);\n\n  const handleChildChange = (e) => {\n    setSelectedChild(e.target.value);\n  };\n\n  const handleChallengeComplete = (challengeId) => {\n    setChallenges(challenges.map(challenge => \n      challenge.id === challengeId \n        ? { ...challenge, completed: true }\n        : challenge\n    ));\n  };\n\n  if (!user) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-warning\">\n          Please log in to view pillar details.\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Loading pillar data...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-danger\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!pillar) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Pillar not found.</div>\n      </div>\n    );\n  }\n\n  // Determine which challenges to show based on subscription status\n  const visibleChallenges = isPremium \n    ? challenges \n    : challenges.slice(0, 1); // Only show first challenge for free users\n\n  return (\n    <div className=\"container mt-4\">\n      <div className={`pillar-card pillar-card-${pillar.id} mb-4`}>\n        <div className=\"pillar-card-header\">\n          <h1>{pillar.name}</h1>\n          {pillar.icon && <span className=\"pillar-icon\">{pillar.icon}</span>}\n        </div>\n        <div className=\"pillar-card-body\">\n          <p>{pillar.shortDescription}</p>\n          \n          {user.children && user.children.length > 0 ? (\n            <div className=\"child-selector mb-4\">\n              <label htmlFor=\"childSelect\">Select Child:</label>\n              <select \n                id=\"childSelect\" \n                className=\"form-control\" \n                value={selectedChild || ''} \n                onChange={handleChildChange}\n              >\n                <option value=\"\">Select a child</option>\n                {user.children.map(child => (\n                  <option key={child.id} value={child.id}>\n                    {child.name} ({child.age} years)\n                  </option>\n                ))}\n              </select>\n            </div>\n          ) : (\n            <div className=\"alert alert-info\">\n              Please add a child to your profile to view challenges.\n            </div>\n          )}\n          \n          {selectedChild && (\n            <ProgressTracking childId={selectedChild} pillarId={pillarId} />\n          )}\n        </div>\n      </div>\n      \n      {selectedChild ? (\n        <>\n          <h2 className=\"mb-3\">Confidence Challenges</h2>\n          \n          <div className=\"challenges-grid\">\n            {visibleChallenges.map((challenge) => (\n              <ChallengeCard\n                key={challenge.id}\n                challenge={challenge}\n                childId={selectedChild}\n                pillarId={pillarId}\n                onComplete={handleChallengeComplete}\n              />\n            ))}\n            \n            {!isPremium && challenges.length > 1 && (\n              <div className=\"premium-feature-container\">\n                <div className=\"premium-feature-preview\">\n                  <ChallengeCard\n                    challenge={{\n                      id: 'preview',\n                      title: 'Premium Challenge',\n                      description: 'This premium challenge helps your child develop confidence through guided exercises...',\n                      difficulty: 'medium',\n                      durationMinutes: 15,\n                      minAge: 5,\n                      maxAge: 12,\n                    }}\n                    childId={selectedChild}\n                    pillarId={pillarId}\n                  />\n                </div>\n                <div className=\"premium-feature-overlay\">\n                  <div className=\"lock-icon\"><FaLock /></div>\n                  <h4>Premium Challenges</h4>\n                  <p>Unlock {challenges.length - 1} more challenges for this pillar with a premium subscription</p>\n                  <Link to=\"/subscription\" className=\"btn btn-secondary mt-2\">\n                    <FaCrown className=\"me-2\" /> Upgrade Now\n                  </Link>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {!isPremium && (\n            <div className=\"upgrade-prompt standard mt-4\">\n              <h3><FaCrown className=\"me-2\" /> Unlock All Challenges</h3>\n              <p>Subscribe to our premium plan to access all challenges, detailed progress tracking, and rewards for your child.</p>\n              <Link to=\"/subscription\" className=\"upgrade-button\">Upgrade Now</Link>\n            </div>\n          )}\n        </>\n      ) : (\n        <div className=\"alert alert-info\">\n          Please select a child to view challenges.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PillarDetail;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaStar, FaTrophy, FaCalendarAlt } from 'react-icons/fa';\nimport { useAuth } from '../contexts/AuthContext';\nimport '../styles/PillarsOverview.css';\n\nconst API_URL = 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\nconst PillarsOverview = () => {\n  const { user } = useAuth();\n  const [selectedChild, setSelectedChild] = useState(null);\n  const [pillars, setPillars] = useState([]);\n  const [content, setContent] = useState([]);\n  const [challenges, setChallenges] = useState([]);\n  const [achievements, setAchievements] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (user && user.children && user.children.length > 0 && !selectedChild) {\n      setSelectedChild(user.children[0].id);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!user || !selectedChild) return;\n\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('authToken');\n        \n        // Fetch pillars with child progress\n        const pillarsResponse = await fetch(`${API_URL}/api/pillars?childId=${selectedChild}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n        \n        // Fetch content (techniques)\n        const contentResponse = await fetch(`${API_URL}/api/content`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n        \n        // Fetch challenges\n        const challengesResponse = await fetch(`${API_URL}/api/challenges?childId=${selectedChild}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n        \n        // Fetch achievements\n        const achievementsResponse = await fetch(`${API_URL}/api/achievements?childId=${selectedChild}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        const [pillarsData, contentData, challengesData, achievementsData] = await Promise.all([\n          pillarsResponse.json(),\n          contentResponse.json(),\n          challengesResponse.json(),\n          achievementsResponse.json(),\n        ]);\n\n        setPillars(pillarsData);\n        setContent(contentData);\n        setChallenges(challengesData);\n        setAchievements(achievementsData);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError('Failed to load data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [user, selectedChild]);\n\n  const handleChildChange = (e) => {\n    const childId = e.target.value;\n    const selected = user.children.find(child => child.id === childId);\n    setSelectedChild(selected);\n  };\n\n  if (!user) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-warning\">\n          Please log in to view pillars.\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Loading pillars...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-danger\">{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      {user.children && user.children.length > 0 && (\n        <div className=\"child-selector mb-4\">\n          <label htmlFor=\"childSelect\">Select Child:</label>\n          <select \n            id=\"childSelect\" \n            className=\"form-control\" \n            value={selectedChild?.id || ''} \n            onChange={handleChildChange}\n          >\n            {user.children.map(child => (\n              <option key={child.id} value={child.id}>\n                {child.name} ({child.age} years)\n              </option>\n            ))}\n          </select>\n        </div>\n      )}\n\n      <div className=\"pillars-overview\">\n        <div className=\"daily-challenge-section\">\n          <h2>Today's Challenge</h2>\n          {challenges.length > 0 && (\n            <div className=\"daily-challenge\">\n              <h3>{challenges[0].title}</h3>\n              <p>{challenges[0].description}</p>\n              <Link to={`/challenges/${challenges[0].id}`} className=\"btn btn-primary\">\n                Start Challenge\n              </Link>\n            </div>\n          )}\n        </div>\n\n        <div className=\"pillars-grid\">\n          {pillars.map(pillar => {\n            const pillarContent = content.filter(c => c.pillar_id === pillar.id);\n            const pillarChallenges = challenges.filter(c => c.pillar_id === pillar.id);\n            const pillarAchievements = achievements.filter(a => \n              a.description.includes(pillar.name)\n            );\n\n            return (\n              <div key={pillar.id} className=\"pillar-card\">\n                <div className=\"pillar-header\">\n                  <h3>{pillar.name}</h3>\n                  <p className=\"pillar-description\">{pillar.short_description}</p>\n                </div>\n\n                <div className=\"pillar-stats\">\n                  <div className=\"stat\">\n                    <FaStar className=\"icon\" />\n                    <span>{pillarContent.length} Techniques</span>\n                  </div>\n                  <div className=\"stat\">\n                    <FaCalendarAlt className=\"icon\" />\n                    <span>{pillarChallenges.length} Challenges</span>\n                  </div>\n                  <div className=\"stat\">\n                    <FaTrophy className=\"icon\" />\n                    <span>{pillarAchievements.length} Achievements</span>\n                  </div>\n                </div>\n\n                <div className=\"pillar-progress\">\n                  <div className=\"progress-label\">\n                    <span>Progress</span>\n                    <span>{pillar.progress || 0}%</span>\n                  </div>\n                  <div className=\"progress-container\">\n                    <div \n                      className=\"progress-bar\" \n                      style={{ width: `${pillar.progress || 0}%` }}\n                    ></div>\n                  </div>\n                </div>\n\n                <div className=\"pillar-actions\">\n                  <Link to={`/pillars/${pillar.id}`} className=\"btn btn-primary\">\n                    Explore Pillar\n                  </Link>\n                  <Link to={`/pillars/${pillar.id}/techniques`} className=\"btn btn-secondary\">\n                    View Techniques\n                  </Link>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        <div className=\"achievements-section\">\n          <h2>Available Achievements</h2>\n          <div className=\"achievements-grid\">\n            {achievements.map(achievement => (\n              <div key={achievement.id} className=\"achievement-card\">\n                <div className=\"achievement-header\">\n                  <h3>{achievement.name}</h3>\n                  <span className=\"points\">{achievement.points_value} points</span>\n                </div>\n                <p>{achievement.description}</p>\n                {achievement.creates_certificate && (\n                  <span className=\"certificate-badge\">Certificate Available</span>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PillarsOverview; ","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { loadStripe } from '@stripe/stripe-js';\nimport {\n  Elements,\n  CardElement,\n  useStripe,\n  useElements\n} from '@stripe/react-stripe-js';\nimport { FaCrown, FaCheck, FaRegStar, FaStar } from 'react-icons/fa';\n\n// Initialize Stripe with your publishable key\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY);\n\n// Subscription plan options\nconst plans = [\n  {\n    id: 'monthly',\n    name: 'Monthly',\n    price: 9.99,\n    interval: 'month',\n    description: 'Perfect for trying out all premium features',\n    features: [\n      'Full access to all 5 pillars',\n      'Unlimited activities and challenges',\n      'Progress tracking for multiple children',\n      'Printable certificates',\n      'Rewards marketplace',\n      'Social sharing capabilities'\n    ]\n  },\n  {\n    id: 'yearly',\n    name: 'Yearly',\n    price: 89.99,\n    regularPrice: 119.88, // 12 * 9.99\n    interval: 'year',\n    description: 'Our most popular plan',\n    features: [\n      'Full access to all 5 pillars',\n      'Unlimited activities and challenges',\n      'Progress tracking for multiple children',\n      'Printable certificates',\n      'Rewards marketplace',\n      'Social sharing capabilities',\n      'Priority support',\n      'Early access to new features'\n    ],\n    bestValue: true\n  },\n  {\n    id: 'lifetime',\n    name: 'Lifetime',\n    price: 249.99,\n    interval: 'once',\n    description: 'Pay once, use forever',\n    features: [\n      'Full access to all 5 pillars',\n      'Unlimited activities and challenges',\n      'Progress tracking for multiple children',\n      'Printable certificates',\n      'Rewards marketplace',\n      'Social sharing capabilities',\n      'Priority support',\n      'Early access to new features',\n      'All future updates included'\n    ]\n  }\n];\n\n// CheckoutForm component for handling payment submission\nconst CheckoutForm = ({ selectedPlan, onSuccess, onError }) => {\n  const stripe = useStripe();\n  const elements = useElements();\n  const { currentUser } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!stripe || !elements) {\n      // Stripe.js has not loaded yet\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Get a reference to the card element\n      const cardElement = elements.getElement(CardElement);\n\n      // Create a payment method\n      const { error: stripeError, paymentMethod } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: cardElement,\n      });\n\n      if (stripeError) {\n        throw new Error(stripeError.message);\n      }\n\n      // Send the payment method ID to your server\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/subscriptions/create`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\n        },\n        body: JSON.stringify({\n          paymentMethodId: paymentMethod.id,\n          planId: selectedPlan.id,\n          customerId: currentUser.id,\n          email: currentUser.email,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to process subscription');\n      }\n\n      // Handle subscription status\n      if (data.status === 'success') {\n        onSuccess(data);\n      } else if (data.status === 'requires_action') {\n        // Handle 3D Secure authentication if required\n        const { error: confirmError, paymentIntent } = await stripe.confirmCardPayment(\n          data.clientSecret\n        );\n\n        if (confirmError) {\n          throw new Error(confirmError.message);\n        } else if (paymentIntent.status === 'succeeded') {\n          onSuccess(data);\n        } else {\n          throw new Error('Payment failed');\n        }\n      } else {\n        throw new Error(data.message || 'Subscription failed');\n      }\n    } catch (error) {\n      console.error('Subscription error:', error);\n      setError(error.message);\n      onError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const cardElementOptions = {\n    style: {\n      base: {\n        fontSize: '16px',\n        color: '#424770',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"card-element-container\">\n        <CardElement options={cardElementOptions} />\n      </div>\n      \n      {error && (\n        <div className=\"alert alert-danger mb-3\">\n          {error}\n        </div>\n      )}\n      \n      <button \n        type=\"submit\" \n        className=\"subscribe-button\"\n        disabled={!stripe || loading}\n      >\n        {loading ? 'Processing...' : `Subscribe for $${selectedPlan.price}/${selectedPlan.interval === 'once' ? '' : selectedPlan.interval}`}\n      </button>\n    </form>\n  );\n};\n\n// Main Subscription component\nconst Subscription = () => {\n  const [selectedPlan, setSelectedPlan] = useState(plans[1]); // Default to yearly plan\n  const [subscriptionComplete, setSubscriptionComplete] = useState(false);\n  const [subscriptionError, setSubscriptionError] = useState(null);\n  const { currentUser, userSubscription, fetchSubscriptionStatus } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // If user already has an active subscription, redirect to dashboard\n    if (userSubscription && userSubscription.status === 'active') {\n      navigate('/dashboard');\n    }\n  }, [userSubscription, navigate]);\n\n  const handlePlanSelect = (plan) => {\n    setSelectedPlan(plan);\n  };\n\n  const handleSubscriptionSuccess = async (data) => {\n    setSubscriptionComplete(true);\n    // Refresh subscription status\n    await fetchSubscriptionStatus();\n    \n    // Redirect to dashboard after a short delay\n    setTimeout(() => {\n      navigate('/dashboard');\n    }, 3000);\n  };\n\n  const handleSubscriptionError = (errorMessage) => {\n    setSubscriptionError(errorMessage);\n  };\n\n  if (subscriptionComplete) {\n    return (\n      <div className=\"subscription-page\">\n        <div className=\"success-message\">\n          <h2><FaCheck className=\"me-2\" /> Subscription Successful!</h2>\n          <p>Thank you for subscribing to Confident Kids Premium. You now have access to all premium features.</p>\n          <p>You will be redirected to your dashboard shortly...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"subscription-page\">\n      <div className=\"feature-highlight\">\n        <h1><FaCrown className=\"me-2\" /> Upgrade to Confident Kids Premium</h1>\n        <p>Unlock the full potential of your child's confidence journey with our premium features.</p>\n      </div>\n      \n      <div className=\"plan-selection\">\n        <h2>Choose Your Plan</h2>\n        <div className=\"plan-options\">\n          {plans.map((plan) => (\n            <div \n              key={plan.id}\n              className={`plan-card ${selectedPlan.id === plan.id ? 'selected' : ''}`}\n              onClick={() => handlePlanSelect(plan)}\n            >\n              {plan.bestValue && <div className=\"best-value\">Best Value</div>}\n              <h3>{plan.name}</h3>\n              <div className=\"price\">\n                ${plan.price} <span>/{plan.interval === 'once' ? '' : plan.interval}</span>\n              </div>\n              {plan.regularPrice && (\n                <div className=\"savings\">\n                  Save ${(plan.regularPrice - plan.price).toFixed(2)} per year\n                </div>\n              )}\n              <p>{plan.description}</p>\n              <ul className=\"features\">\n                {plan.features.map((feature, index) => (\n                  <li key={index}>{feature}</li>\n                ))}\n              </ul>\n              <button \n                className={`btn ${selectedPlan.id === plan.id ? 'btn-primary' : 'btn-outline'} w-100`}\n              >\n                {selectedPlan.id === plan.id ? 'Selected' : 'Select'}\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      \n      <div className=\"payment-section\">\n        <h2>Payment Information</h2>\n        <Elements stripe={stripePromise}>\n          <CheckoutForm \n            selectedPlan={selectedPlan} \n            onSuccess={handleSubscriptionSuccess}\n            onError={handleSubscriptionError}\n          />\n        </Elements>\n        \n        {subscriptionError && (\n          <div className=\"alert alert-danger mt-3\">\n            {subscriptionError}\n          </div>\n        )}\n        \n        <div className=\"guarantee\">\n          <p><FaRegStar /> 30-day money-back guarantee <FaRegStar /></p>\n          <p>If you're not satisfied with our premium features, we'll refund your payment within the first 30 days.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Subscription;\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaStar, FaShare, FaPrint, FaTrophy } from 'react-icons/fa';\n\nconst Rewards = () => {\n  const [activeTab, setActiveTab] = useState('achievements');\n  const [achievements, setAchievements] = useState([]);\n  const [certificates, setCertificates] = useState([]);\n  const [marketplace, setMarketplace] = useState([]);\n  const [points, setPoints] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { currentUser, hasPremiumAccess } = useAuth();\n  \n  useEffect(() => {\n    const fetchRewardsData = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('authToken');\n        \n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/rewards`, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        const data = await response.json();\n\n        if (!response.ok) {\n          throw new Error(data.message || 'Failed to fetch rewards data');\n        }\n\n        setAchievements(data.achievements);\n        setCertificates(data.certificates);\n        setMarketplace(data.marketplace);\n        setPoints(data.points);\n      } catch (error) {\n        console.error('Error fetching rewards data:', error);\n        setError('Failed to load rewards data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (hasPremiumAccess()) {\n      fetchRewardsData();\n    } else {\n      setLoading(false);\n    }\n  }, [hasPremiumAccess]);\n\n  const handleShareCertificate = (certificateId) => {\n    // Implementation for sharing certificate to social media\n    console.log(`Sharing certificate ${certificateId}`);\n    // This would typically open a social sharing modal or redirect to a sharing page\n  };\n\n  const handlePrintCertificate = (certificateId) => {\n    // Implementation for printing certificate\n    console.log(`Printing certificate ${certificateId}`);\n    window.print();\n  };\n\n  const handleRedeemReward = async (rewardId) => {\n    try {\n      const token = localStorage.getItem('authToken');\n      \n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/rewards/redeem`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          rewardId\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Failed to redeem reward');\n      }\n\n      // Update points after redemption\n      setPoints(data.updatedPoints);\n      \n      // Update marketplace items to reflect availability changes\n      setMarketplace(prevMarketplace => \n        prevMarketplace.map(item => \n          item.id === rewardId \n            ? { ...item, redeemed: true } \n            : item\n        )\n      );\n      \n      alert('Reward redeemed successfully!');\n    } catch (error) {\n      console.error('Error redeeming reward:', error);\n      alert(`Failed to redeem reward: ${error.message}`);\n    }\n  };\n\n  if (!hasPremiumAccess()) {\n    return (\n      <div className=\"container mt-5\">\n        <div className=\"upgrade-prompt standard\">\n          <h2><FaTrophy className=\"me-2\" /> Unlock the Rewards System</h2>\n          <p>The Rewards System is a premium feature that allows your child to earn achievements, collect certificates, and redeem points for special rewards.</p>\n          <p>Subscribe to our premium plan to motivate your child with tangible rewards for their confidence journey.</p>\n          <a href=\"/subscription\" className=\"upgrade-button\">Upgrade Now</a>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return <div className=\"text-center p-5\">Loading rewards data...</div>;\n  }\n\n  if (error) {\n    return <div className=\"alert alert-danger\">{error}</div>;\n  }\n\n  return (\n    <div className=\"rewards-container\">\n      <h1 className=\"mb-4\">Rewards & Achievements</h1>\n      \n      <div className=\"points-display\">\n        <span className=\"points-icon\"><FaStar /></span>\n        <span className=\"points-value\">{points} Points</span>\n      </div>\n      \n      <div className=\"rewards-tabs\">\n        <button \n          className={activeTab === 'achievements' ? 'active' : ''}\n          onClick={() => setActiveTab('achievements')}\n        >\n          Achievements\n        </button>\n        <button \n          className={activeTab === 'certificates' ? 'active' : ''}\n          onClick={() => setActiveTab('certificates')}\n        >\n          Certificates\n        </button>\n        <button \n          className={activeTab === 'marketplace' ? 'active' : ''}\n          onClick={() => setActiveTab('marketplace')}\n        >\n          Rewards Marketplace\n        </button>\n      </div>\n      \n      <div className=\"rewards-content\">\n        {activeTab === 'achievements' && (\n          <div>\n            <h3 className=\"mb-3\">Your Child's Achievements</h3>\n            <div className=\"achievement-grid\">\n              {achievements.map((achievement) => (\n                <div \n                  key={achievement.id} \n                  className={`achievement-item ${!achievement.unlocked ? 'achievement-locked' : ''}`}\n                >\n                  <div className=\"achievement-icon\">\n                    {achievement.icon}\n                  </div>\n                  <h4>{achievement.name}</h4>\n                  <p>{achievement.description}</p>\n                  {achievement.unlocked ? (\n                    <div className=\"text-success\">Unlocked!</div>\n                  ) : (\n                    <div className=\"text-muted\">{achievement.progress}% Complete</div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n        \n        {activeTab === 'certificates' && (\n          <div>\n            <h3 className=\"mb-3\">Printable Certificates</h3>\n            {certificates.length === 0 ? (\n              <p>No certificates earned yet. Complete activities to earn certificates!</p>\n            ) : (\n              certificates.map((certificate) => (\n                <div key={certificate.id} className=\"mb-4\">\n                  <h4>{certificate.title}</h4>\n                  <div className=\"certificate-preview\">\n                    <div className=\"certificate-content\">\n                      <h2>{certificate.title}</h2>\n                      <h3>Awarded to: {currentUser.children?.find(child => child.id === certificate.childId)?.name || 'Your Child'}</h3>\n                      <p>{certificate.description}</p>\n                      <p>Date: {new Date(certificate.date).toLocaleDateString()}</p>\n                    </div>\n                  </div>\n                  <div className=\"certificate-actions\">\n                    <button \n                      className=\"btn btn-outline\" \n                      onClick={() => handleShareCertificate(certificate.id)}\n                    >\n                      <FaShare className=\"me-2\" /> Share\n                    </button>\n                    <button \n                      className=\"btn btn-primary print-button\" \n                      onClick={() => handlePrintCertificate(certificate.id)}\n                    >\n                      <FaPrint className=\"me-2\" /> Print\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n        \n        {activeTab === 'marketplace' && (\n          <div>\n            <h3 className=\"mb-3\">Rewards Marketplace</h3>\n            <p>Use your points to redeem these special rewards for your child:</p>\n            \n            <div className=\"marketplace-grid\">\n              {marketplace.map((reward) => (\n                <div key={reward.id} className=\"reward-item\">\n                  <img src={reward.image} alt={reward.name} className=\"reward-image\" />\n                  <div className=\"reward-content\">\n                    <div className=\"reward-points\">{reward.points} Points</div>\n                    <h4>{reward.name}</h4>\n                    <p>{reward.description}</p>\n                    <button \n                      className=\"btn btn-primary w-100 mt-2\" \n                      disabled={points < reward.points || reward.redeemed}\n                      onClick={() => handleRedeemReward(reward.id)}\n                    >\n                      {reward.redeemed ? 'Redeemed' : 'Redeem Reward'}\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Rewards;\n","import React, { useState, useEffect } from 'react';\nimport { FaUser, FaCog, FaBell, FaLock, FaCreditCard } from 'react-icons/fa';\nimport '../styles/Profile.css';\n\nconst Profile = () => {\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('profile');\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/user`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to fetch profile');\n        }\n\n        const data = await response.json();\n        setProfile(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProfile();\n  }, []);\n\n  const handleProfileUpdate = async (e) => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/user`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(profile)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update profile');\n      }\n\n      const updatedProfile = await response.json();\n      setProfile(updatedProfile);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading profile...</div>;\n  }\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n\n  if (!profile) {\n    return <div className=\"no-profile\">No profile data available</div>;\n  }\n\n  return (\n    <div className=\"profile-container\">\n      <div className=\"profile-sidebar\">\n        <div className=\"profile-header\">\n          <div className=\"profile-avatar\">\n            <FaUser />\n          </div>\n          <h2>{profile.name}</h2>\n          <p>{profile.email}</p>\n        </div>\n\n        <nav className=\"profile-nav\">\n          <button \n            className={`nav-item ${activeTab === 'profile' ? 'active' : ''}`}\n            onClick={() => setActiveTab('profile')}\n          >\n            <FaUser /> Profile\n          </button>\n          <button \n            className={`nav-item ${activeTab === 'settings' ? 'active' : ''}`}\n            onClick={() => setActiveTab('settings')}\n          >\n            <FaCog /> Settings\n          </button>\n          <button \n            className={`nav-item ${activeTab === 'security' ? 'active' : ''}`}\n            onClick={() => setActiveTab('security')}\n          >\n            <FaLock /> Security\n          </button>\n        </nav>\n      </div>\n\n      <div className=\"profile-content\">\n        {activeTab === 'profile' && (\n          <div className=\"profile-section\">\n            <h3>Profile Information</h3>\n            <form onSubmit={handleProfileUpdate}>\n              <div className=\"form-group\">\n                <label>Name</label>\n                <input\n                  type=\"text\"\n                  value={profile.name}\n                  onChange={(e) => setProfile({ ...profile, name: e.target.value })}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Email</label>\n                <input\n                  type=\"email\"\n                  value={profile.email}\n                  onChange={(e) => setProfile({ ...profile, email: e.target.value })}\n                />\n              </div>\n              <button type=\"submit\" className=\"btn btn-primary\">\n                Save Changes\n              </button>\n            </form>\n          </div>\n        )}\n\n        {activeTab === 'settings' && (\n          <div className=\"settings-section\">\n            <h3>Account Settings</h3>\n            <div className=\"settings-grid\">\n              <div className=\"setting-card\">\n                <h4>Language</h4>\n                <select value={profile.language} onChange={(e) => setProfile({ ...profile, language: e.target.value })}>\n                  <option value=\"en\">English</option>\n                  <option value=\"es\">Spanish</option>\n                  <option value=\"fr\">French</option>\n                </select>\n              </div>\n              <div className=\"setting-card\">\n                <h4>Theme</h4>\n                <select value={profile.theme} onChange={(e) => setProfile({ ...profile, theme: e.target.value })}>\n                  <option value=\"light\">Light</option>\n                  <option value=\"dark\">Dark</option>\n                  <option value=\"system\">System</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'security' && (\n          <div className=\"security-section\">\n            <h3>Security Settings</h3>\n            <div className=\"security-options\">\n              <button className=\"btn btn-secondary\">\n                Change Password\n              </button>\n              <button className=\"btn btn-secondary\">\n                Enable Two-Factor Authentication\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React, { useState, useEffect } from 'react';\nimport { useContext } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport '../styles/main.css';\nimport '../styles/DailyChallenge.css';\nimport '../styles/ChallengeCard.css';\n\nconst Challenges = () => {\n  const { user } = useAuth();\n  const [activeChild, setActiveChild] = useState(null);\n  const [activeTab, setActiveTab] = useState('daily');\n  const [dailyChallenge, setDailyChallenge] = useState({\n    title: 'Ask, Don\\'t Tell Challenge',\n    description: 'When your child asks for help today, respond with a question that helps them solve the problem themselves.',\n    completed: false\n  });\n  const [calendarChallenges, setCalendarChallenges] = useState([\n    {\n      day: 1,\n      title: 'Ask, Don\\'t Tell Challenge',\n      description: 'When your child asks for help today, respond with a question that helps them solve the problem themselves.',\n      completed: true\n    },\n    {\n      day: 2,\n      title: 'Growth Mindset Moment',\n      description: 'Add \"yet\" to any statement your child makes about not being able to do something.',\n      completed: true\n    },\n    {\n      day: 3,\n      title: 'Conversation Starter',\n      description: 'Practice a new conversation skill with your child in a low-pressure situation.',\n      completed: true\n    },\n    {\n      day: 4,\n      title: 'Strength Spotlight',\n      description: 'Point out a specific strength you notice in your child today.',\n      completed: true\n    },\n    {\n      day: 5,\n      title: 'Fear Reframe',\n      description: 'Help your child identify and reframe one fear or worry they have.',\n      completed: true\n    },\n    {\n      day: 6,\n      title: 'Problem-Solving Practice',\n      description: 'Present a small problem and guide your child through solving it independently.',\n      completed: false\n    },\n    {\n      day: 7,\n      title: 'Mistake Celebration',\n      description: 'Share a mistake you made and what you learned from it.',\n      completed: false\n    },\n    {\n      day: 8,\n      title: 'Social Scenario Practice',\n      description: 'Role-play a challenging social situation with your child.',\n      completed: false\n    },\n    {\n      day: 9,\n      title: 'Purpose Exploration',\n      description: 'Ask your child what activities make them feel happy and helpful.',\n      completed: false\n    },\n    {\n      day: 10,\n      title: 'Brave Step Challenge',\n      description: 'Encourage your child to take one small step toward something that makes them nervous.',\n      completed: false\n    },\n    {\n      day: 11,\n      title: 'Independent Task',\n      description: 'Identify one new responsibility your child can take on independently.',\n      completed: false\n    },\n    {\n      day: 12,\n      title: 'Effort Praise',\n      description: 'Focus exclusively on praising effort rather than results today.',\n      completed: false\n    },\n    {\n      day: 13,\n      title: 'Active Listening',\n      description: 'Practice active listening with your child for at least 10 minutes without interruption.',\n      completed: false\n    },\n    {\n      day: 14,\n      title: 'Strength in Action',\n      description: 'Create an opportunity for your child to use one of their strengths today.',\n      completed: false\n    },\n    {\n      day: 15,\n      title: 'Worry Detective',\n      description: 'Help your child investigate evidence for and against a worry they have.',\n      completed: false\n    },\n    {\n      day: 16,\n      title: 'Choice Menu',\n      description: 'Offer your child meaningful choices throughout the day.',\n      completed: false\n    },\n    {\n      day: 17,\n      title: 'Challenge Embrace',\n      description: 'Encourage your child to try something challenging and discuss how their brain grows from challenges.',\n      completed: false\n    },\n    {\n      day: 18,\n      title: 'Assertiveness Practice',\n      description: 'Help your child practice expressing their needs clearly and respectfully.',\n      completed: false\n    },\n    {\n      day: 19,\n      title: 'Values Exploration',\n      description: 'Discuss what matters most to your child and how they can live those values.',\n      completed: false\n    },\n    {\n      day: 20,\n      title: 'Relaxation Technique',\n      description: 'Teach your child a new relaxation technique to manage anxiety.',\n      completed: false\n    },\n    {\n      day: 21,\n      title: 'Problem-Solving Steps',\n      description: 'Guide your child through the formal steps of problem-solving for a current challenge.',\n      completed: false\n    },\n    {\n      day: 22,\n      title: 'Learning from Others',\n      description: 'Share a story about someone who overcame obstacles through persistence.',\n      completed: false\n    },\n    {\n      day: 23,\n      title: 'Empathy Builder',\n      description: 'Help your child practice understanding someone else\\'s perspective.',\n      completed: false\n    },\n    {\n      day: 24,\n      title: 'Passion Project',\n      description: 'Help your child take one step forward on a project they\\'re passionate about.',\n      completed: false\n    },\n    {\n      day: 25,\n      title: 'Gradual Exposure',\n      description: 'Create a small step toward facing something your child fears.',\n      completed: false\n    },\n    {\n      day: 26,\n      title: 'Self-Help Skills',\n      description: 'Teach your child one new self-help skill appropriate for their age.',\n      completed: false\n    },\n    {\n      day: 27,\n      title: 'Persistence Practice',\n      description: 'Encourage your child to stick with something difficult for a set period of time.',\n      completed: false\n    },\n    {\n      day: 28,\n      title: 'Conversation Challenge',\n      description: 'Challenge your child to start a conversation with someone new or ask questions to keep a conversation going.',\n      completed: false\n    },\n    {\n      day: 29,\n      title: 'Strength Celebration',\n      description: 'Have a special celebration of your child\\'s unique strengths and qualities.',\n      completed: false\n    },\n    {\n      day: 30,\n      title: 'Confidence Reflection',\n      description: 'Reflect with your child on how they\\'ve grown in confidence over the past month.',\n      completed: false\n    }\n  ]);\n\n  useEffect(() => {\n    if (user && user.children && user.children.length > 0) {\n      setActiveChild(user.children[0]);\n    }\n  }, [user]);\n\n  const handleChildChange = (e) => {\n    const childId = e.target.value;\n    const selected = user.children.find(child => child.id === childId);\n    setActiveChild(selected);\n  };\n\n  const handleCompleteChallenge = () => {\n    setDailyChallenge({\n      ...dailyChallenge,\n      completed: true\n    });\n  };\n\n  const handleCalendarChallengeToggle = (day) => {\n    setCalendarChallenges(\n      calendarChallenges.map(challenge => \n        challenge.day === day \n          ? { ...challenge, completed: !challenge.completed } \n          : challenge\n      )\n    );\n  };\n\n  return (\n    <div className=\"challenges-page\">\n      <div className=\"container\">\n        <h1>Confidence Challenges</h1>\n        \n        {user && user.children && user.children.length > 0 ? (\n          <div className=\"child-selector\">\n            <label htmlFor=\"childSelect\">Select Child: </label>\n            <select \n              id=\"childSelect\" \n              onChange={handleChildChange}\n              value={activeChild?.id}\n            >\n              {user.children.map(child => (\n                <option key={child.id} value={child.id}>\n                  {child.name} ({child.age} years)\n                </option>\n              ))}\n            </select>\n          </div>\n        ) : (\n          <div className=\"no-children-message\">\n            <p>You haven't added any children to your profile yet.</p>\n          </div>\n        )}\n        \n        {activeChild && (\n          <>\n            <div className=\"challenges-tabs\">\n              <button \n                className={activeTab === 'daily' ? 'active' : ''} \n                onClick={() => setActiveTab('daily')}\n              >\n                Today's Challenge\n              </button>\n              <button \n                className={activeTab === 'calendar' ? 'active' : ''} \n                onClick={() => setActiveTab('calendar')}\n              >\n                30-Day Calendar\n              </button>\n            </div>\n            \n            <div className=\"challenges-content\">\n              {activeTab === 'daily' && (\n                <div className=\"daily-challenge-tab\">\n                  <div className=\"dashboard-section\">\n                    <h2>Today's Challenge for {activeChild.name}</h2>\n                    <div className=\"challenge-card\">\n                      <h3>{dailyChallenge.title}</h3>\n                      <p>{dailyChallenge.description}</p>\n                      {dailyChallenge.completed ? (\n                        <div className=\"completed-message\">\n                          <span className=\"completed-badge\">Completed</span>\n                          <p>Great job! Come back tomorrow for a new challenge.</p>\n                        </div>\n                      ) : (\n                        <button \n                          className=\"btn btn-primary\"\n                          onClick={handleCompleteChallenge}\n                        >\n                          Mark as Complete\n                        </button>\n                      )}\n                    </div>\n                    \n                    <div className=\"challenge-tips\">\n                      <h3>Tips for Success</h3>\n                      <ul>\n                        <li>Try to complete the challenge early in the day</li>\n                        <li>Explain to your child what you're doing and why</li>\n                        <li>Take notes on what worked and what didn't</li>\n                        <li>Be consistent with daily challenges for best results</li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {activeTab === 'calendar' && (\n                <div className=\"calendar-challenge-tab\">\n                  <div className=\"dashboard-section\">\n                    <h2>30-Day Confidence Challenge Calendar</h2>\n                    <p>Complete one challenge each day to build your child's confidence systematically.</p>\n                    \n                    <div className=\"challenge-progress\">\n                      <p>\n                        <strong>Progress: </strong>\n                        {calendarChallenges.filter(c => c.completed).length} / 30 challenges completed\n                      </p>\n                      <div className=\"progress-bar\">\n                        <div \n                          className=\"progress-fill\" \n                          style={{ \n                            width: `${(calendarChallenges.filter(c => c.completed).length / 30) * 100}%` \n                          }}\n                        ></div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"calendar-challenges\">\n                      {calendarChallenges.map(challenge => (\n                        <div \n                          key={challenge.day} \n                          className={`calendar-day ${challenge.completed ? 'completed' : ''}`}\n                        >\n                          <div className=\"day-number\">Day {challenge.day}</div>\n                          <div className=\"day-content\">\n                            <h3>{challenge.title}</h3>\n                            <p>{challenge.description}</p>\n                          </div>\n                          <div className=\"day-action\">\n                            <button \n                              className={`btn ${challenge.completed ? 'btn-secondary' : 'btn-primary'}`}\n                              onClick={() => handleCalendarChallengeToggle(challenge.day)}\n                            >\n                              {challenge.completed ? 'Completed' : 'Mark Complete'}\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Challenges;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaStar, FaClock, FaUserFriends, FaCheck, FaArrowLeft } from 'react-icons/fa';\nimport '../styles/DailyChallenge.css';\n\nconst API_URL = 'https://confident-kids-api.kevin-mcgovern.workers.dev';\n\nconst ChallengeDetail = () => {\n  const { challengeId } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [challenge, setChallenge] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedChild, setSelectedChild] = useState(null);\n\n  useEffect(() => {\n    if (user && user.children && user.children.length > 0 && !selectedChild) {\n      setSelectedChild(user.children[0].id);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    const fetchChallenge = async () => {\n      if (!user || !selectedChild) return;\n\n      try {\n        setLoading(true);\n        setError(null);\n        const token = localStorage.getItem('authToken');\n\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n\n        const response = await fetch(`${API_URL}/api/challenges/${challengeId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to fetch challenge details');\n        }\n\n        const data = await response.json();\n        setChallenge(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchChallenge();\n  }, [challengeId, user, selectedChild]);\n\n  const handleComplete = async () => {\n    if (!challenge || !selectedChild) return;\n\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await fetch(`${API_URL}/api/challenges/${challengeId}/complete`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          childId: selectedChild,\n          completed: !challenge.completed\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update challenge status');\n      }\n\n      const data = await response.json();\n      setChallenge({\n        ...challenge,\n        completed: !challenge.completed\n      });\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleChildChange = (e) => {\n    const childId = e.target.value;\n    const selected = user.children.find(child => child.id === childId);\n    setSelectedChild(selected);\n  };\n\n  if (!user) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-warning\">\n          Please log in to view challenge details.\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Loading challenge details...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"alert alert-danger\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!challenge) {\n    return (\n      <div className=\"container mt-4\">\n        <div className=\"text-center p-5\">Challenge not found.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      <button \n        className=\"btn btn-outline-secondary mb-3\" \n        onClick={() => navigate(-1)}\n      >\n        <FaArrowLeft className=\"me-2\" /> Back to Challenges\n      </button>\n\n      <div className=\"daily-challenge\">\n        {user.children && user.children.length > 0 && (\n          <div className=\"child-selector mb-4\">\n            <label htmlFor=\"childSelect\">Select Child:</label>\n            <select \n              id=\"childSelect\" \n              className=\"form-control\" \n              value={selectedChild?.id || ''} \n              onChange={handleChildChange}\n            >\n              {user.children.map(child => (\n                <option key={child.id} value={child.id}>\n                  {child.name} ({child.age} years)\n                </option>\n              ))}\n            </select>\n          </div>\n        )}\n\n        <div className=\"challenge-header\">\n          <h2>{challenge.title}</h2>\n          <div className=\"challenge-meta\">\n            <span className=\"difficulty\">\n              <FaStar /> {challenge.difficulty_level === 1 ? 'Easy' : \n                         challenge.difficulty_level === 2 ? 'Medium' : 'Hard'}\n            </span>\n            <span className=\"duration\">\n              <FaClock /> 15-20 minutes\n            </span>\n            <span className=\"age-range\">\n              <FaUserFriends /> {challenge.age_group === 'all' ? 'All Ages' : challenge.age_group}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"challenge-content\">\n          <p>{challenge.description}</p>\n          \n          <div className=\"challenge-steps\">\n            <h4>Instructions for Parents:</h4>\n            <div className=\"step\">\n              <span className=\"step-number\">1</span>\n              <p>Find a quiet, comfortable space with your child</p>\n            </div>\n            <div className=\"step\">\n              <span className=\"step-number\">2</span>\n              <p>Guide your child through the breathing exercise</p>\n            </div>\n            <div className=\"step\">\n              <span className=\"step-number\">3</span>\n              <p>Practice together until your child feels comfortable</p>\n            </div>\n            <div className=\"step\">\n              <span className=\"step-number\">4</span>\n              <p>Encourage your child to use this technique when needed</p>\n            </div>\n          </div>\n\n          <div className=\"challenge-rewards\">\n            <h4>Rewards</h4>\n            <ul>\n              <li>\n                <FaStar className=\"reward-icon\" />\n                Builds emotional regulation skills\n              </li>\n              <li>\n                <FaStar className=\"reward-icon\" />\n                Reduces anxiety and stress\n              </li>\n              <li>\n                <FaStar className=\"reward-icon\" />\n                Strengthens parent-child bond\n              </li>\n            </ul>\n          </div>\n\n          <button \n            className={`btn ${challenge.completed ? 'btn-secondary' : 'btn-primary'} complete-challenge`}\n            onClick={handleComplete}\n          >\n            <FaCheck /> {challenge.completed ? 'Mark as Incomplete' : 'Complete Challenge'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChallengeDetail; ","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext'; // Add useAuth import\nimport './styles/main.css';\n\n// Components\nimport Navigation from './components/Navigation';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\nimport PillarDetail from './components/PillarDetail';\nimport PillarsOverview from './components/PillarsOverview';\nimport Subscription from './components/Subscription';\nimport Rewards from './components/Rewards';\nimport Home from './components/Home';\nimport Profile from './components/Profile';\nimport Challenges from './pages/Challenges';\nimport ChallengeDetail from './components/ChallengeDetail';\n\n// Protected route component\nconst ProtectedRoute = ({ children }) => {\n  const { currentUser } = useAuth();\n  if (!currentUser) {\n    return <Navigate to=\"/login\" />;\n  }\n  return children;\n};\n\n// Premium route component\nconst PremiumRoute = ({ children }) => {\n  const { hasPremiumAccess } = useAuth();\n  if (!hasPremiumAccess()) {\n    return <Navigate to=\"/subscription\" />;\n  }\n  return children;\n};\n\n// Root redirect component\nconst RootRedirect = () => {\n  const { currentUser } = useAuth();\n  return <Navigate to={currentUser ? \"/dashboard\" : \"/\"} />;\n};\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <BrowserRouter>\n        <Navigation />\n        <main className=\"main-content\">\n          <Routes>\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n            <Route path=\"/dashboard\" element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/pillars\" element={\n              <ProtectedRoute>\n                <PillarsOverview />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/pillars/:pillarId\" element={\n              <ProtectedRoute>\n                <PillarDetail />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/challenges\" element={\n              <ProtectedRoute>\n                <Challenges />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/challenges/:challengeId\" element={\n              <ProtectedRoute>\n                <ChallengeDetail />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/subscription\" element={\n              <ProtectedRoute>\n                <Subscription />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/rewards\" element={\n              <ProtectedRoute>\n                <PremiumRoute>\n                  <Rewards />\n                </PremiumRoute>\n              </ProtectedRoute>\n            } />\n            <Route path=\"/profile\" element={\n              <ProtectedRoute>\n                <Profile />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/\" element={<RootRedirect />} />\n          </Routes>\n        </main>\n      </BrowserRouter>\n    </AuthProvider>\n  );\n};\n\nexport default App;\n\n// Move the ReactDOM.render to a separate index.js file\n// This should not be in App.js\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './styles/main.css';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}